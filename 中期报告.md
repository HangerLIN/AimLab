# å°„å‡»è®­ç»ƒæ¯”èµ›ç³»ç»Ÿä¸­æœŸæŠ¥å‘Š

## ä¸€ã€é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡

### 1.1 é¡¹ç›®èƒŒæ™¯

å°„å‡»è¿åŠ¨ä½œä¸ºä¸€é¡¹é‡è¦çš„ç«æŠ€ä½“è‚²é¡¹ç›®ï¼Œå¯¹è¿åŠ¨å‘˜çš„ä¸“æ³¨åŠ›ã€ç¨³å®šæ€§å’ŒæŠ€æœ¯æ°´å¹³æœ‰ç€æé«˜çš„è¦æ±‚ã€‚ä¼ ç»Ÿçš„å°„å‡»è®­ç»ƒå’Œæ¯”èµ›ç®¡ç†ä¸»è¦ä¾èµ–äººå·¥è®°å½•å’Œçº¸è´¨æ¡£æ¡ˆï¼Œå­˜åœ¨æ•°æ®è®°å½•æ•ˆç‡ä½ã€æ•°æ®åˆ†æå›°éš¾ã€è®­ç»ƒæ•ˆæœéš¾ä»¥é‡åŒ–ã€æ¯”èµ›ç®¡ç†å¤æ‚ä»¥åŠå®æ—¶åé¦ˆç¼ºå¤±ç­‰é—®é¢˜ã€‚

éšç€ä¿¡æ¯æŠ€æœ¯çš„å‘å±•ï¼Œç‰¹åˆ«æ˜¯WebæŠ€æœ¯ã€å®æ—¶é€šä¿¡æŠ€æœ¯å’Œæ•°æ®å¯è§†åŒ–æŠ€æœ¯çš„æˆç†Ÿï¼Œä¸ºå°„å‡»è®­ç»ƒç®¡ç†æä¾›äº†æ–°çš„è§£å†³æ–¹æ¡ˆã€‚æœ¬é¡¹ç›®æ—¨åœ¨è®¾è®¡å¹¶å®ç°ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„å°„å‡»è®­ç»ƒæ¯”èµ›ç®¡ç†ç³»ç»Ÿï¼Œä»¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚

### 1.2 é¡¹ç›®ç›®æ ‡

1. **æ•°å­—åŒ–è®­ç»ƒç®¡ç†**ï¼šå°†ä¼ ç»Ÿçš„æ‰‹å·¥è®°å½•è½¬å˜ä¸ºç”µå­åŒ–ã€è‡ªåŠ¨åŒ–çš„æ•°å­—ç®¡ç†
2. **å®æ—¶æ¯”èµ›æ”¯æŒ**ï¼šæä¾›å®æ—¶æ’åæ›´æ–°ã€æˆç»©ç»Ÿè®¡ç­‰åŠŸèƒ½ï¼Œæå‡æ¯”èµ›ç®¡ç†æ•ˆç‡
3. **ç§‘å­¦æ•°æ®åˆ†æ**ï¼šé€šè¿‡æ•°æ®å¯è§†åŒ–å’Œç»Ÿè®¡åˆ†æï¼Œä¸ºè¿åŠ¨å‘˜å’Œæ•™ç»ƒæä¾›ç§‘å­¦çš„è®­ç»ƒå‚è€ƒ
4. **æé«˜ç”¨æˆ·ä½“éªŒ**ï¼šé€šè¿‡å‹å¥½çš„äº¤äº’ç•Œé¢å’Œå®æ—¶åé¦ˆæœºåˆ¶ï¼Œæå‡ç³»ç»Ÿæ˜“ç”¨æ€§

### 1.3 æŠ€æœ¯æ¶æ„

æœ¬ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„B/Sæ¶æ„ï¼Œä¸»è¦æŠ€æœ¯æ ˆå¦‚ä¸‹ï¼š

| æŠ€æœ¯åˆ†ç±» | æŠ€æœ¯åç§° | ç‰ˆæœ¬ | ç”¨é€” |
|---------|---------|------|------|
| å‰ç«¯æ¡†æ¶ | Vue.js | 3.5.17 | ç”¨æˆ·ç•Œé¢å¼€å‘ |
| å‰ç«¯æ„å»º | Vite | 4.5.2 | é¡¹ç›®æ„å»ºå’Œå¼€å‘æœåŠ¡å™¨ |
| çŠ¶æ€ç®¡ç† | Pinia | 3.0.3 | åº”ç”¨çŠ¶æ€ç®¡ç† |
| UIç»„ä»¶åº“ | Element Plus | 2.10.2 | UIç»„ä»¶ |
| æ•°æ®å¯è§†åŒ– | Chart.js | 4.5.0 | å›¾è¡¨å±•ç¤º |
| åç«¯æ¡†æ¶ | Spring Boot | 2.7.14 | åº”ç”¨æ¡†æ¶ |
| æŒä¹…å±‚æ¡†æ¶ | MyBatis | 2.3.1 | æ•°æ®æŒä¹…åŒ– |
| æ•°æ®åº“ | MySQL | 8.0.33 | æ•°æ®å­˜å‚¨ |
| æ•°æ®åˆ†ç‰‡ | ShardingSphere | 5.3.2 | æ•°æ®åˆ†ç‰‡ |
| æƒé™è®¤è¯ | Sa-Token | 1.34.0 | ç”¨æˆ·è®¤è¯å’Œæƒé™æ§åˆ¶ |
| PDFç”Ÿæˆ | iText | 7.2.5 | PDFæŠ¥å‘Šç”Ÿæˆ |
| APIæ–‡æ¡£ | Knife4j | 4.1.0 | APIæ–‡æ¡£ç”Ÿæˆ |
| å®æ—¶é€šä¿¡ | WebSocket | - | å®æ—¶åŒå‘é€šä¿¡ |

---

## äºŒã€å·²å®Œæˆçš„å·¥ä½œå†…å®¹

### 2.1 ç³»ç»Ÿæ¶æ„è®¾è®¡ä¸æ­å»º

1. **å®Œæˆå‰åç«¯é¡¹ç›®æ¡†æ¶æ­å»º**
   - åç«¯é‡‡ç”¨Spring Boot 2.7.14æ¡†æ¶ï¼Œé›†æˆMyBatisã€Sa-Tokenã€WebSocketç­‰æ ¸å¿ƒç»„ä»¶
   - å‰ç«¯é‡‡ç”¨Vue 3 + Viteæ„å»ºï¼Œé›†æˆElement Plusã€Piniaã€Vue Routerç­‰

2. **æ•°æ®åº“è®¾è®¡ä¸åˆ†ç‰‡é…ç½®**
   - è®¾è®¡å¹¶å®ç°7å¼ æ ¸å¿ƒæ•°æ®è¡¨ï¼šusersã€athletesã€training_sessionsã€competitionsã€competition_athletesã€shooting_recordsã€competition_results
   - é…ç½®ShardingSphereå®ç°å°„å‡»è®°å½•è¡¨æŒ‰user_idæ°´å¹³åˆ†ç‰‡

3. **RESTful APIè®¾è®¡**
   - å®Œæˆå…¨éƒ¨APIæ¥å£è®¾è®¡ï¼Œä½¿ç”¨Knife4jè‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£
   - APIæ–‡æ¡£åœ°å€ï¼šhttp://localhost:8083/doc.html

### 2.2 æ ¸å¿ƒåŠŸèƒ½æ¨¡å—å¼€å‘

#### 2.2.1 ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ˆå·²å®Œæˆï¼‰
- âœ… ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€é€€å‡ºåŠŸèƒ½
- âœ… åŸºäºSa-Tokençš„è§’è‰²ç®¡ç†ï¼ˆè¿åŠ¨å‘˜ATHLETEã€æ•™ç»ƒå‘˜COACHã€ç®¡ç†å‘˜ADMINï¼‰
- âœ… ç”¨æˆ·æƒé™æ§åˆ¶ä¸æ‹¦æˆª
- âœ… ç”¨æˆ·ä¿¡æ¯ç»´æŠ¤

#### 2.2.2 è¿åŠ¨å‘˜æ¡£æ¡ˆæ¨¡å—ï¼ˆå·²å®Œæˆï¼‰
- âœ… è¿åŠ¨å‘˜åŸºæœ¬ä¿¡æ¯ç®¡ç†ï¼ˆå§“åã€æ€§åˆ«ã€å‡ºç”Ÿæ—¥æœŸã€ç­‰çº§ï¼‰
- âœ… è¿åŠ¨å‘˜æ¡£æ¡ˆåˆ›å»ºä¸ç¼–è¾‘
- âœ… è¿åŠ¨å‘˜å†å²æˆç»©æŸ¥è¯¢
- âœ… è¿åŠ¨å‘˜æ¡£æ¡ˆå¯¼å…¥å¯¼å‡ºï¼ˆæ”¯æŒCSVã€Excelæ ¼å¼ï¼‰

#### 2.2.3 è®­ç»ƒç®¡ç†æ¨¡å—ï¼ˆå·²å®Œæˆï¼‰
- âœ… è®­ç»ƒåœºæ¬¡åˆ›å»ºå’Œç®¡ç†
- âœ… è™šæ‹Ÿå°„å‡»é¶äº¤äº’ç•Œé¢ï¼ˆåŸºäºSVGå®ç°ï¼‰
- âœ… å®æ—¶å°„å‡»è®°å½•ï¼ˆä½ç½®ã€ç¯æ•°ã€æ—¶é—´ï¼‰
- âœ… è®­ç»ƒæ•°æ®ç»Ÿè®¡ï¼ˆæ€»åˆ†ã€å¹³å‡åˆ†ã€ç¨³å®šæ€§æŒ‡æ•°ï¼‰
- âœ… è®­ç»ƒåœºæ¬¡ç»“æŸä¸æ•°æ®ä¿å­˜
- âœ… è®­ç»ƒæŠ¥å‘ŠPDFç”Ÿæˆä¸å¯¼å‡º

#### 2.2.4 æ¯”èµ›ç®¡ç†æ¨¡å—ï¼ˆå·²å®Œæˆï¼‰
- âœ… æ¯”èµ›åˆ›å»ºå’Œé…ç½®ï¼ˆè½®æ•°ã€æ¯è½®å°„å‡»æ¬¡æ•°ã€æ—¶é—´é™åˆ¶ï¼‰
- âœ… è¿åŠ¨å‘˜æŠ¥åç®¡ç†ï¼ˆæ”¯æŒPUBLIC/ADMIN_ONLYä¸¤ç§æ¨¡å¼ï¼‰
- âœ… æŠ¥åæ—¶é—´çª—å£éªŒè¯
- âœ… æ‰¹é‡æŠ¥ååŠŸèƒ½
- âœ… æ¯”èµ›çŠ¶æ€æ§åˆ¶ï¼ˆå¼€å§‹ã€æš‚åœã€æ¢å¤ã€ç»“æŸã€å–æ¶ˆï¼‰
- âœ… æ¯”èµ›å°„å‡»è®°å½•å½•å…¥
- âœ… å®æ—¶æ’åè®¡ç®—ä¸æ˜¾ç¤º
- âœ… æ¯”èµ›ç»“æœå¯¼å‡ºï¼ˆCSVã€Excelã€PDFæ ¼å¼ï¼‰

#### 2.2.5 å®æ—¶é€šä¿¡æ¨¡å—ï¼ˆå·²å®Œæˆï¼‰
- âœ… WebSocketè¿æ¥ç®¡ç†
- âœ… å°„å‡»è®°å½•å®æ—¶å¹¿æ’­
- âœ… æ’åå®æ—¶æ›´æ–°æ¨é€
- âœ… æ¯”èµ›çŠ¶æ€å˜æ›´é€šçŸ¥
- âœ… å®¢æˆ·ç«¯è‡ªåŠ¨é‡è¿æœºåˆ¶

#### 2.2.6 æ•°æ®åˆ†æä¸æŠ¥å‘Šæ¨¡å—ï¼ˆå·²å®Œæˆï¼‰
- âœ… æ—¶é—´ç»´åº¦ç»Ÿè®¡åˆ†æï¼ˆæ—¥/å‘¨/æœˆç²’åº¦ï¼‰
- âœ… è¿åŠ¨å‘˜ç»´åº¦ç»Ÿè®¡åˆ†æ
- âœ… é¡¹ç›®ç»´åº¦ç»Ÿè®¡åˆ†æ
- âœ… å¤šç»´åº¦ç»„åˆç­›é€‰æŸ¥è¯¢
- âœ… æ•°æ®å¯è§†åŒ–å±•ç¤ºï¼ˆChart.jså›¾è¡¨ï¼‰
- âœ… ç»Ÿè®¡æŠ¥è¡¨å¯¼å‡ºï¼ˆExcelæ ¼å¼ï¼‰

#### 2.2.7 ç®¡ç†å‘˜åŠŸèƒ½æ¨¡å—ï¼ˆå·²å®Œæˆï¼‰
- âœ… ç®¡ç†å‘˜ä»ªè¡¨ç›˜ï¼ˆæ•°æ®èšåˆå±•ç¤ºï¼‰
- âœ… ç”¨æˆ·ç®¡ç†ï¼ˆåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ã€é‡ç½®å¯†ç ï¼‰
- âœ… è¿åŠ¨å‘˜æ¡£æ¡ˆæ‰¹é‡ç®¡ç†
- âœ… å¼ºåˆ¶ç”¨æˆ·ä¸‹çº¿åŠŸèƒ½
- âœ… ç³»ç»Ÿæ•°æ®ç»Ÿè®¡

---

## ä¸‰ã€ç®¡ç†å‘˜æƒé™ä¸åŠŸèƒ½å®ç°è¯¦è§£

æœ¬ç« èŠ‚é‡ç‚¹é˜è¿°ç³»ç»Ÿä¸­ç®¡ç†å‘˜è§’è‰²çš„æƒé™è®¾è®¡ã€åŠŸèƒ½å®ç°ä»¥åŠæ“ä½œç•Œé¢çš„å…·ä½“ç»†èŠ‚ã€‚ç®¡ç†å‘˜ä½œä¸ºç³»ç»Ÿçš„æ ¸å¿ƒç®¡ç†è§’è‰²ï¼Œæ‹¥æœ‰æœ€é«˜çº§åˆ«çš„æ“ä½œæƒé™ï¼Œè´Ÿè´£ç”¨æˆ·ç®¡ç†ã€è¿åŠ¨å‘˜æ¡£æ¡ˆå®¡æ‰¹ã€æ¯”èµ›ç®¡ç†ã€æ•°æ®ç»Ÿè®¡åˆ†æç­‰å…³é”®åŠŸèƒ½ã€‚

### 3.1 ç®¡ç†å‘˜æƒé™ä½“ç³»è®¾è®¡

#### 3.1.1 è§’è‰²å®šä¹‰ä¸æƒé™åˆ†é…

ç³»ç»Ÿé‡‡ç”¨åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰æ¨¡å‹ï¼Œå®šä¹‰äº†ä¸‰ç§ç”¨æˆ·è§’è‰²ï¼š

| è§’è‰² | è‹±æ–‡æ ‡è¯† | æƒé™çº§åˆ« | åŠŸèƒ½èŒƒå›´ |
|------|----------|----------|----------|
| è¿åŠ¨å‘˜ | ATHLETE | åŸºç¡€ | ä¸ªäººè®­ç»ƒã€æ¯”èµ›å‚ä¸ã€æ¡£æ¡ˆæŸ¥çœ‹ |
| æ•™ç»ƒå‘˜ | COACH | ä¸­çº§ | è®­ç»ƒç®¡ç†ã€è¿åŠ¨å‘˜æŒ‡å¯¼ |
| ç®¡ç†å‘˜ | ADMIN | æœ€é«˜ | å…¨ç³»ç»Ÿç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€æ•°æ®ç»Ÿè®¡ |

#### 3.1.2 ç®¡ç†å‘˜æƒé™ç æ¸…å•

ç®¡ç†å‘˜è§’è‰²æ‹¥æœ‰ä»¥ä¸‹12é¡¹ç»†ç²’åº¦æƒé™ç ï¼š

```java
// ç®¡ç†å‘˜æƒé™ç å®šä¹‰ (StpInterfaceImpl.java)
case "ADMIN":
    permissions.add("admin:dashboard");           // ä»ªè¡¨ç›˜è®¿é—®æƒé™
    permissions.add("admin:users");               // ç”¨æˆ·åˆ—è¡¨æŸ¥çœ‹æƒé™
    permissions.add("admin:users:manage");        // ç”¨æˆ·ç®¡ç†æƒé™ï¼ˆå¢åˆ æ”¹ï¼‰
    permissions.add("admin:athletes");            // è¿åŠ¨å‘˜ç®¡ç†æƒé™
    permissions.add("admin:athletes:export");     // è¿åŠ¨å‘˜å¯¼å‡ºæƒé™
    permissions.add("admin:athletes:import");     // è¿åŠ¨å‘˜å¯¼å…¥æƒé™
    permissions.add("admin:reports");             // æŠ¥å‘Šä¸‹è½½æƒé™
    permissions.add("admin:training.analytics");  // è®­ç»ƒç»Ÿè®¡åˆ†ææƒé™
    permissions.add("admin:training.export");     // è®­ç»ƒæ•°æ®å¯¼å‡ºæƒé™
    permissions.add("admin:competitions.manage"); // æ¯”èµ›ç®¡ç†æƒé™
    permissions.add("admin:competitions.export"); // æ¯”èµ›æˆç»©å¯¼å‡ºæƒé™
    permissions.add("competition:force-finish");  // å¼ºåˆ¶ç»“æŸæ¯”èµ›æƒé™
    break;
```

#### 3.1.3 æƒé™éªŒè¯æŠ€æœ¯å®ç°

ç³»ç»Ÿé‡‡ç”¨Sa-Tokenæ¡†æ¶å®ç°æƒé™æ§åˆ¶ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹æŠ€æœ¯ç»„ä»¶ï¼š

**1. æƒé™æ¥å£å®ç°ç±» (StpInterfaceImpl.java)**

```java
@Component
public class StpInterfaceImpl implements StpInterface {
    
    @Autowired
    private UserMapper userMapper;
    
    /**
     * è¿”å›ä¸€ä¸ªè´¦å·æ‰€æ‹¥æœ‰çš„æƒé™ç é›†åˆ
     */
    @Override
    public List<String> getPermissionList(Object loginId, String loginType) {
        Long userId = Long.parseLong(loginId.toString());
        User user = userMapper.findById(userId);
        if (user == null || user.getRole() == null) {
            return new ArrayList<>();
        }
        
        List<String> permissions = new ArrayList<>();
        switch (user.getRole()) {
            case "ADMIN":
                // æ·»åŠ ç®¡ç†å‘˜æ‰€æœ‰æƒé™
                permissions.add("admin:dashboard");
                permissions.add("admin:users");
                // ... å…¶ä»–æƒé™
                break;
            case "COACH":
                permissions.add("coach:training");
                break;
            case "ATHLETE":
            default:
                permissions.add("athlete:self");
                break;
        }
        return permissions;
    }
    
    /**
     * è¿”å›ä¸€ä¸ªè´¦å·æ‰€æ‹¥æœ‰çš„è§’è‰²æ ‡è¯†é›†åˆ
     */
    @Override
    public List<String> getRoleList(Object loginId, String loginType) {
        Long userId = Long.parseLong(loginId.toString());
        User user = userMapper.findById(userId);
        if (user != null && user.getRole() != null) {
            return Arrays.asList(user.getRole());
        }
        return new ArrayList<>();
    }
}
```

**2. è·¯ç”±æ‹¦æˆªé…ç½® (SaTokenConfig.java)**

```java
@Configuration
public class SaTokenConfig implements WebMvcConfigurer {

    @Override
    public void addInterceptors(InterceptorRegistry registry) {
        registry.addInterceptor(new SaInterceptor(handle -> {
            // æ’é™¤å…¬å¼€æ¥å£
            SaRouter.notMatch(
                "/api/users/login",
                "/api/users/register",
                "/api/auth/login",
                "/api/auth/register",
                "/doc.html",
                "/webjars/**"
            )
            // æ•°æ®æŸ¥è¯¢æ¥å£ï¼šGETè¯·æ±‚å…¬å¼€ï¼Œå…¶ä»–éœ€ç™»å½•
            .match("/api/competitions/**", "/api/athletes/**")
            .notMatchMethod("GET")
            .check(r -> StpUtil.checkLogin());
            
            // ç®¡ç†å‘˜æ¥å£éœ€è¦ç™»å½•éªŒè¯
            SaRouter
                .match("/api/admin/**")
                .check(r -> StpUtil.checkLogin());
        })).addPathPatterns("/**");
    }
}
```

**3. æ¥å£æƒé™æ³¨è§£**

åœ¨Controllerå±‚ä½¿ç”¨`@SaCheckPermission`æ³¨è§£è¿›è¡Œç»†ç²’åº¦æƒé™æ§åˆ¶ï¼š

```java
@Tag(name = "ç®¡ç†å‘˜ä¸­å¿ƒ", description = "ç³»ç»Ÿçº§ç®¡ç†èƒ½åŠ›æ¥å£")
@RestController
@RequestMapping("/api/admin")
public class AdminController {

    @Operation(summary = "ä»ªè¡¨ç›˜ç»Ÿè®¡", description = "è·å–ç³»ç»Ÿå…¨å±€ç»Ÿè®¡ä¿¡æ¯")
    @SaCheckPermission("admin:dashboard")
    @GetMapping("/dashboard")
    public ResponseEntity<?> getDashboardMetrics() {
        // ä»…ç®¡ç†å‘˜å¯è®¿é—®
    }

    @Operation(summary = "åˆ›å»ºç³»ç»Ÿç”¨æˆ·", description = "ç®¡ç†å‘˜åˆ›å»ºæ–°ç”¨æˆ·è´¦å·")
    @SaCheckPermission("admin:users:manage")
    @PostMapping("/users")
    public ResponseEntity<?> createUser(@RequestBody Map<String, Object> payload) {
        // éœ€è¦ç”¨æˆ·ç®¡ç†æƒé™
    }
}
```

### 3.2 ç®¡ç†å‘˜åŠŸèƒ½æ¨¡å—è¯¦è§£

#### 3.2.1 ç®¡ç†å‘˜ä»ªè¡¨ç›˜

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†å‘˜ä»ªè¡¨ç›˜æ˜¯ç®¡ç†å‘˜ç™»å½•åçš„é¦–é¡µï¼Œæä¾›ç³»ç»Ÿå…¨å±€æ•°æ®æ¦‚è§ˆå’Œå¾…åŠäº‹é¡¹æé†’ã€‚

**åç«¯å®ç° (AdminService.java)**ï¼š

```java
public Map<String, Object> getDashboardMetrics() {
    LocalDateTime sevenDaysAgo = LocalDateTime.now().minusDays(7);

    // æ¦‚è§ˆæ•°æ®
    Map<String, Object> overview = new HashMap<>();
    overview.put("totalUsers", userMapper.countAll());           // ç”¨æˆ·æ€»æ•°
    overview.put("activeTrainings", trainingSessionMapper.countActive()); // æ´»è·ƒè®­ç»ƒ
    overview.put("activeCompetitions",                           // è¿›è¡Œä¸­æ¯”èµ›
            competitionMapper.countByStatus("RUNNING") + 
            competitionMapper.countByStatus("PAUSED"));
    overview.put("recentReports", trainingSessionMapper.countReportsSince(sevenDaysAgo)); // è¿‘æœŸæŠ¥å‘Š

    // å¾…å®¡æ‰¹è¿åŠ¨å‘˜
    long pendingAthleteTotal = athleteMapper.countByApprovalStatus("PENDING");
    List<Map<String, Object>> pendingAthleteItems = athleteMapper
            .findByApprovalStatus("PENDING", 5).stream()
            .map(this::toAthleteSummary)
            .collect(Collectors.toList());
    
    // å³å°†å¼€å§‹çš„æ¯”èµ›
    long upcomingCompetitionTotal = competitionMapper.countByStatus("CREATED");
    List<Map<String, Object>> upcomingCompetitionItems = competitionMapper
            .findUpcoming(5).stream()
            .map(this::toCompetitionSummary)
            .collect(Collectors.toList());

    // ç»„è£…è¿”å›æ•°æ®
    Map<String, Object> todos = new HashMap<>();
    todos.put("pendingAthletes", pendingAthletes);
    todos.put("upcomingCompetitions", upcomingCompetitions);

    Map<String, Object> metrics = new HashMap<>();
    metrics.put("overview", overview);
    metrics.put("todos", todos);
    return metrics;
}
```

**ä»ªè¡¨ç›˜æ•°æ®ç»“æ„**ï¼š

```json
{
  "success": true,
  "metrics": {
    "overview": {
      "totalUsers": 156,
      "activeTrainings": 12,
      "activeCompetitions": 3,
      "recentReports": 28
    },
    "todos": {
      "pendingAthletes": {
        "total": 5,
        "items": [
          {"id": 1, "name": "å¼ ä¸‰", "level": "çœçº§", "approvalStatus": "PENDING"}
        ]
      },
      "upcomingCompetitions": {
        "total": 2,
        "items": [
          {"id": 10, "name": "å…¨å›½å°„å‡»é”¦æ ‡èµ›", "status": "CREATED"}
        ]
      }
    }
  }
}
```

#### 3.2.2 ç”¨æˆ·ç®¡ç†åŠŸèƒ½

**åŠŸèƒ½æ¦‚è¿°**ï¼šç®¡ç†å‘˜å¯å¯¹ç³»ç»Ÿç”¨æˆ·è¿›è¡Œå…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŒ…æ‹¬åˆ›å»ºã€æŸ¥è¯¢ã€ä¿®æ”¹ã€åˆ é™¤ã€é‡ç½®å¯†ç ã€å¼ºåˆ¶ä¸‹çº¿ç­‰æ“ä½œã€‚

**åç«¯æœåŠ¡å®ç° (AdminUserService.java)**ï¼š

```java
@Service
public class AdminUserService {

    @Autowired
    private UserMapper userMapper;

    @Autowired
    private BCryptPasswordEncoder passwordEncoder;

    /**
     * åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·
     */
    public PageResult<AdminUserDTO> listUsers(String username, String role, 
                                               Integer status, int page, int size) {
        int pageSize = size <= 0 ? 20 : size;
        int pageIndex = Math.max(page, 1);
        int offset = (pageIndex - 1) * pageSize;

        List<AdminUserDTO> items = userMapper.findAdminUsers(username, role, status, offset, pageSize);
        long total = userMapper.countAdminUsers(username, role, status);
        return new PageResult<>(total, items);
    }

    /**
     * åˆ›å»ºç”¨æˆ·
     */
    @Transactional
    public Long createUser(String username, String password, String role, Integer status) {
        // æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨
        User existingUser = userMapper.findByUsername(username);
        if (existingUser != null) {
            throw new RuntimeException("ç”¨æˆ·åå·²å­˜åœ¨");
        }

        User user = new User();
        user.setUsername(username);
        user.setPassword(passwordEncoder.encode(password)); // BCryptåŠ å¯†
        user.setRole(role != null ? role.toUpperCase() : "ATHLETE");
        user.setStatus(status == null ? 1 : status);
        user.setCreatedAt(LocalDateTime.now());
        user.setUpdatedAt(LocalDateTime.now());
        userMapper.insert(user);
        return user.getId();
    }

    /**
     * æ›´æ–°ç”¨æˆ·çŠ¶æ€ï¼ˆç¦ç”¨æ—¶è‡ªåŠ¨è¸¢å‡ºï¼‰
     */
    @Transactional
    public void updateStatus(Long userId, Integer status) {
        if (userMapper.updateStatus(userId, status) == 0) {
            throw new RuntimeException("æ›´æ–°ç”¨æˆ·çŠ¶æ€å¤±è´¥");
        }
        // ç¦ç”¨ç”¨æˆ·æ—¶å¼ºåˆ¶ä¸‹çº¿
        if (status == 0) {
            StpUtil.logout(userId);
        }
    }

    /**
     * é‡ç½®å¯†ç ï¼ˆé‡ç½®åå¼ºåˆ¶ä¸‹çº¿ï¼‰
     */
    @Transactional
    public void resetPassword(Long userId, String newPassword) {
        String encoded = passwordEncoder.encode(newPassword);
        if (userMapper.updatePassword(userId, encoded) == 0) {
            throw new RuntimeException("é‡ç½®å¯†ç å¤±è´¥");
        }
        StpUtil.logout(userId); // å¼ºåˆ¶ç”¨æˆ·é‡æ–°ç™»å½•
    }

    /**
     * å¼ºåˆ¶è¸¢å‡ºç”¨æˆ·åœ¨çº¿ä¼šè¯
     */
    public void forceLogout(Long userId) {
        StpUtil.logout(userId);
    }
}
```

**APIæ¥å£æ¸…å•**ï¼š

| æ¥å£ | æ–¹æ³• | æƒé™ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| `/api/admin/users` | GET | admin:users | åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ |
| `/api/admin/users` | POST | admin:users:manage | åˆ›å»ºæ–°ç”¨æˆ· |
| `/api/admin/users/{userId}` | PUT | admin:users:manage | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ |
| `/api/admin/users/{userId}` | DELETE | admin:users:manage | åˆ é™¤ç”¨æˆ· |
| `/api/admin/users/{userId}/reset-password` | POST | admin:users:manage | é‡ç½®ç”¨æˆ·å¯†ç  |
| `/api/admin/users/{userId}/kick` | POST | admin:users:manage | å¼ºåˆ¶è¸¢å‡ºç”¨æˆ· |

#### 3.2.3 è¿åŠ¨å‘˜ç®¡ç†åŠŸèƒ½

**åŠŸèƒ½æ¦‚è¿°**ï¼šç®¡ç†å‘˜å¯å¯¹è¿åŠ¨å‘˜æ¡£æ¡ˆè¿›è¡Œå…¨é¢ç®¡ç†ï¼ŒåŒ…æ‹¬æŸ¥çœ‹ã€ç¼–è¾‘ã€å®¡æ‰¹ã€åˆ é™¤ã€æ‰¹é‡å¯¼å…¥å¯¼å‡ºç­‰æ“ä½œã€‚

**APIæ¥å£æ¸…å•**ï¼š

| æ¥å£ | æ–¹æ³• | æƒé™ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| `/api/admin/athletes` | GET | admin:athletes | è·å–å…¨éƒ¨è¿åŠ¨å‘˜åˆ—è¡¨ |
| `/api/admin/athletes/{athleteId}` | PUT | admin:athletes | æ›´æ–°è¿åŠ¨å‘˜ä¿¡æ¯ |
| `/api/admin/athletes/{athleteId}/approve` | PUT | admin:athletes | å®¡æ‰¹é€šè¿‡è¿åŠ¨å‘˜ |
| `/api/admin/athletes/{athleteId}/reject` | PUT | admin:athletes | æ‹’ç»è¿åŠ¨å‘˜ç”³è¯· |
| `/api/admin/athletes/{athleteId}` | DELETE | admin:athletes | åˆ é™¤è¿åŠ¨å‘˜æ¡£æ¡ˆ |
| `/api/admin/athletes/export` | GET | admin:athletes:export | å¯¼å‡ºè¿åŠ¨å‘˜æ¡£æ¡ˆ |
| `/api/admin/athletes/import` | POST | admin:athletes:import | å¯¼å…¥è¿åŠ¨å‘˜æ¡£æ¡ˆ |

**å®¡æ‰¹çŠ¶æ€æµè½¬**ï¼š

```mermaid
stateDiagram-v2
    [*] --> PENDING: åˆ›å»ºæ¡£æ¡ˆ
    PENDING --> APPROVED: å®¡æ‰¹é€šè¿‡
    PENDING --> REJECTED: å®¡æ‰¹æ‹’ç»
    APPROVED --> [*]
    REJECTED --> [*]
    
    PENDING: å¾…å®¡æ‰¹
    APPROVED: å·²å®¡æ‰¹
    REJECTED: å·²æ‹’ç»
```

#### 3.2.4 è®­ç»ƒç»Ÿè®¡åˆ†æåŠŸèƒ½

**åŠŸèƒ½æ¦‚è¿°**ï¼šç®¡ç†å‘˜å¯ä»å¤šä¸ªç»´åº¦å¯¹è®­ç»ƒæ•°æ®è¿›è¡Œç»Ÿè®¡åˆ†æï¼Œæ”¯æŒæ—¶é—´ã€è¿åŠ¨å‘˜ã€é¡¹ç›®ä¸‰ä¸ªç»´åº¦çš„èšåˆæŸ¥è¯¢ã€‚

**åç«¯æœåŠ¡å®ç° (TrainingAnalyticsService.java)**ï¼š

```java
@Service
public class TrainingAnalyticsService {

    /**
     * æŒ‰æ—¶é—´ç»´åº¦ç»Ÿè®¡
     * @param granularity ç²’åº¦ï¼šDAY/WEEK/MONTH
     */
    public List<TrainingTimeStatsDTO> getTimeStats(String granularity,
                                                   LocalDateTime startTime,
                                                   LocalDateTime endTime,
                                                   Long athleteId,
                                                   String projectType) {
        LocalDateTime[] range = normalizeRange(startTime, endTime);
        String normalizedGranularity = normalizeGranularity(granularity);
        return trainingAnalyticsMapper.aggregateByTime(
            normalizedGranularity, range[0], range[1], athleteId, projectType);
    }

    /**
     * æŒ‰è¿åŠ¨å‘˜ç»´åº¦ç»Ÿè®¡
     */
    public List<TrainingAthleteStatsDTO> getAthleteStats(LocalDateTime startTime,
                                                         LocalDateTime endTime,
                                                         String projectType,
                                                         String keyword) {
        LocalDateTime[] range = normalizeRange(startTime, endTime);
        return trainingAnalyticsMapper.aggregateByAthlete(
            range[0], range[1], projectType, keyword);
    }

    /**
     * æŒ‰é¡¹ç›®ç»´åº¦ç»Ÿè®¡
     */
    public List<TrainingProjectStatsDTO> getProjectStats(LocalDateTime startTime,
                                                         LocalDateTime endTime,
                                                         Long athleteId) {
        LocalDateTime[] range = normalizeRange(startTime, endTime);
        return trainingAnalyticsMapper.aggregateByProject(range[0], range[1], athleteId);
    }

    /**
     * å¯¼å‡ºç»Ÿè®¡æŠ¥è¡¨ï¼ˆExcelæ ¼å¼ï¼‰
     */
    public ExportFile exportAnalytics(String dimension, ...) {
        try (Workbook workbook = new XSSFWorkbook()) {
            switch (dimension) {
                case "ATHLETE":
                    writeAthleteSheet(workbook, getAthleteStats(...));
                    break;
                case "PROJECT":
                    writeProjectSheet(workbook, getProjectStats(...));
                    break;
                case "TIME":
                default:
                    writeTimeSheet(workbook, getTimeStats(...));
                    break;
            }
            // ç”ŸæˆExcelæ–‡ä»¶
            ByteArrayOutputStream bos = new ByteArrayOutputStream();
            workbook.write(bos);
            return new ExportFile(fileName, contentType, bos.toByteArray());
        }
    }
}
```

**ç»Ÿè®¡æŒ‡æ ‡è¯´æ˜**ï¼š

| æŒ‡æ ‡åç§° | è‹±æ–‡å­—æ®µ | è®¡ç®—æ–¹å¼ | è¯´æ˜ |
|----------|----------|----------|------|
| å¹³å‡ç¯æ•° | avgScore | SUM(score)/COUNT(*) | æ‰€æœ‰å°„å‡»çš„å¹³å‡æˆç»© |
| æœ€é«˜ç¯æ•° | maxScore | MAX(score) | æœ€ä½³å•æ¬¡æˆç»© |
| æœ€ä½ç¯æ•° | minScore | MIN(score) | æœ€å·®å•æ¬¡æˆç»© |
| ç¨³å®šæ€§æŒ‡æ•° | stabilityIndex | STDDEV(score) | æˆç»©æ ‡å‡†å·®ï¼Œè¶Šå°è¶Šç¨³å®š |
| å°„å‡»æ€»æ•° | totalShots | COUNT(*) | å°„å‡»æ¬¡æ•°ç»Ÿè®¡ |
| è®­ç»ƒåœºæ¬¡æ•° | sessionCount | COUNT(DISTINCT session_id) | è®­ç»ƒåœºæ¬¡ç»Ÿè®¡ |

#### 3.2.5 æ¯”èµ›ç®¡ç†åŠŸèƒ½

**åŠŸèƒ½æ¦‚è¿°**ï¼šç®¡ç†å‘˜å¯åˆ›å»ºã€é…ç½®ã€æ§åˆ¶æ¯”èµ›ï¼ŒåŒ…æ‹¬è®¾ç½®æ¯”èµ›å‚æ•°ã€ç®¡ç†æŠ¥åã€æ§åˆ¶æ¯”èµ›çŠ¶æ€ã€å¯¼å‡ºæˆç»©ç­‰ã€‚

**APIæ¥å£æ¸…å•**ï¼š

| æ¥å£ | æ–¹æ³• | æƒé™ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| `/api/admin/competitions` | POST | admin:competitions.manage | åˆ›å»ºæ¯”èµ› |
| `/api/admin/competitions/{id}` | PUT | admin:competitions.manage | æ›´æ–°æ¯”èµ›é…ç½® |
| `/api/admin/competitions/{id}/force-finish` | POST | competition:force-finish | å¼ºåˆ¶ç»“æŸæ¯”èµ› |
| `/api/admin/competitions/{id}/results/export` | GET | admin:competitions.export | å¯¼å‡ºæ¯”èµ›æˆç»© |
| `/api/admin/competitions/{id}/results/pdf` | GET | admin:reports | ä¸‹è½½PDFæŠ¥å‘Š |

**æ¯”èµ›çŠ¶æ€æµè½¬å›¾**ï¼š

```mermaid
stateDiagram-v2
    [*] --> CREATED: åˆ›å»ºæ¯”èµ›
    CREATED --> RUNNING: start()
    RUNNING --> PAUSED: pause()
    PAUSED --> RUNNING: resume()
    RUNNING --> COMPLETED: complete()
    
    CREATED --> CANCELED: cancel()
    RUNNING --> CANCELED: cancel()
    PAUSED --> CANCELED: cancel()
    
    COMPLETED --> [*]
    CANCELED --> [*]
    
    CREATED: å·²åˆ›å»º
    RUNNING: è¿›è¡Œä¸­
    PAUSED: å·²æš‚åœ
    COMPLETED: å·²å®Œæˆ
    CANCELED: å·²å–æ¶ˆ
```

### 3.3 ç®¡ç†å‘˜å‰ç«¯ç•Œé¢è®¾è®¡

#### 3.3.1 å¯¼èˆªæ æƒé™æ§åˆ¶

ç®¡ç†å‘˜ç™»å½•åï¼Œå¯¼èˆªæ ä¼šæ˜¾ç¤ºä¸“å±çš„"è¿åŠ¨å‘˜ç®¡ç†"å…¥å£ã€‚

**å‰ç«¯å®ç° (MainLayout.vue)**ï¼š

```vue
<template>
  <nav class="nav-links">
    <router-link to="/" class="nav-link">é¦–é¡µ</router-link>
    <router-link to="/training" class="nav-link">è®­ç»ƒ</router-link>
    <router-link to="/profile" class="nav-link">æˆ‘çš„æ¡£æ¡ˆ</router-link>
    
    <!-- ä»…ç®¡ç†å‘˜å¯è§ -->
    <router-link v-if="isAdmin" to="/admin/athletes" class="nav-link">
      <svg class="nav-icon" viewBox="0 0 24 24">
        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
        <circle cx="9" cy="7" r="4"/>
        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
      </svg>
      <span>è¿åŠ¨å‘˜ç®¡ç†</span>
    </router-link>
  </nav>
</template>

<script>
export default {
  setup() {
    const userStore = useUserStore();
    
    // åˆ¤æ–­æ˜¯å¦ä¸ºç®¡ç†å‘˜
    const isAdmin = computed(() => {
      return userStore.userInfo?.role?.toUpperCase() === 'ADMIN';
    });
    
    return { isAdmin };
  }
};
</script>
```

#### 3.3.2 è¿åŠ¨å‘˜ç®¡ç†é¡µé¢ (AdminAthletes.vue)

**é¡µé¢å¸ƒå±€ç»“æ„**ï¼š

```mermaid
block-beta
    columns 1
    
    block:header["é¡µé¢æ ‡é¢˜åŒºåŸŸ"]
        columns 2
        title["ğŸƒ è¿åŠ¨å‘˜ç®¡ç†<br/>ç®¡ç†ç³»ç»Ÿä¸­çš„æ‰€æœ‰è¿åŠ¨å‘˜æ¡£æ¡ˆ"]
        actions["[å¯¼å‡ºCSV] [å¯¼å‡ºExcel]<br/>[å¯¼å…¥è¿åŠ¨å‘˜] [åˆ·æ–°]"]
    end
    
    block:stats["ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ"]
        columns 4
        card1["æ€»è¿åŠ¨å‘˜æ•°<br/>156"]
        card2["å·²å®¡æ‰¹<br/>142"]
        card3["å¾…å®¡æ‰¹<br/>8"]
        card4["å›½å®¶çº§<br/>12"]
    end
    
    block:filter["æœç´¢ç­›é€‰åŒºåŸŸ"]
        columns 4
        search["ğŸ” æœç´¢è¿åŠ¨å‘˜å§“å..."]
        status["å…¨éƒ¨çŠ¶æ€"]
        level["å…¨éƒ¨çº§åˆ«"]
        gender["å…¨éƒ¨æ€§åˆ«"]
    end
    
    block:table["è¿åŠ¨å‘˜åˆ—è¡¨è¡¨æ ¼"]
        columns 1
        tableContent["ID | å§“å | æ€§åˆ« | å‡ºç”Ÿæ—¥æœŸ | çº§åˆ« | å®¡æ‰¹çŠ¶æ€ | åˆ›å»ºæ—¶é—´ | æ“ä½œ<br/>1 | å¼ ä¸‰ | ç”· | 1995-03 | å›½å®¶çº§ | å·²å®¡æ‰¹ | 2024-01-15 | ğŸ‘ï¸âœï¸ğŸ—‘ï¸<br/>2 | æå›› | å¥³ | 1998-07 | çœçº§ | å¾…å®¡æ‰¹ | 2024-02-20 | ğŸ‘ï¸âœ“âœ—âœï¸ğŸ—‘ï¸"]
    end
```

**é¡µé¢å¸ƒå±€è¯´æ˜å›¾**ï¼š

```mermaid
graph TB
    subgraph Page["è¿åŠ¨å‘˜ç®¡ç†é¡µé¢"]
        subgraph Header["é¡µé¢æ ‡é¢˜åŒºåŸŸ"]
            Title["ğŸƒ è¿åŠ¨å‘˜ç®¡ç†"]
            Subtitle["ç®¡ç†ç³»ç»Ÿä¸­çš„æ‰€æœ‰è¿åŠ¨å‘˜æ¡£æ¡ˆ"]
            Buttons["å¯¼å‡ºCSV | å¯¼å‡ºExcel | å¯¼å…¥è¿åŠ¨å‘˜ | åˆ·æ–°"]
        end
        
        subgraph Stats["ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ"]
            Total["æ€»è¿åŠ¨å‘˜æ•°: 156"]
            Approved["å·²å®¡æ‰¹: 142"]
            Pending["å¾…å®¡æ‰¹: 8"]
            National["å›½å®¶çº§: 12"]
        end
        
        subgraph Filter["æœç´¢ç­›é€‰åŒºåŸŸ"]
            Search["ğŸ” æœç´¢è¿åŠ¨å‘˜å§“å"]
            StatusFilter["å…¨éƒ¨çŠ¶æ€"]
            LevelFilter["å…¨éƒ¨çº§åˆ«"]
            GenderFilter["å…¨éƒ¨æ€§åˆ«"]
        end
        
        subgraph Table["è¿åŠ¨å‘˜åˆ—è¡¨è¡¨æ ¼"]
            TableHeader["ID | å§“å | æ€§åˆ« | å‡ºç”Ÿæ—¥æœŸ | çº§åˆ« | å®¡æ‰¹çŠ¶æ€ | åˆ›å»ºæ—¶é—´ | æ“ä½œ"]
            Row1["1 | å¼ ä¸‰ | ç”· | 1995-03 | å›½å®¶çº§ | å·²å®¡æ‰¹ | 2024-01-15 | ğŸ‘ï¸âœï¸ğŸ—‘ï¸"]
            Row2["2 | æå›› | å¥³ | 1998-07 | çœçº§ | å¾…å®¡æ‰¹ | 2024-02-20 | ğŸ‘ï¸âœ“âœ—âœï¸ğŸ—‘ï¸"]
        end
    end
    
    Header --> Stats --> Filter --> Table
```

**é¡µé¢åŠŸèƒ½åŒºåŸŸè¯´æ˜**ï¼š

| åŒºåŸŸ | åŠŸèƒ½æè¿° |
|------|----------|
| é¡µé¢æ ‡é¢˜åŒºåŸŸ | æ˜¾ç¤ºé¡µé¢æ ‡é¢˜ã€å‰¯æ ‡é¢˜å’Œæ“ä½œæŒ‰é’®ç»„ |
| ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ | å®æ—¶æ˜¾ç¤ºè¿åŠ¨å‘˜ç»Ÿè®¡æ•°æ®ï¼ˆæ€»æ•°ã€å·²å®¡æ‰¹ã€å¾…å®¡æ‰¹ã€å›½å®¶çº§ï¼‰ |
| æœç´¢ç­›é€‰åŒºåŸŸ | æä¾›å§“åæœç´¢å’Œå¤šæ¡ä»¶ç­›é€‰ï¼ˆçŠ¶æ€ã€çº§åˆ«ã€æ€§åˆ«ï¼‰ |
| è¿åŠ¨å‘˜åˆ—è¡¨è¡¨æ ¼ | å±•ç¤ºè¿åŠ¨å‘˜è¯¦ç»†ä¿¡æ¯ï¼Œæ”¯æŒåˆ†é¡µå’Œæ“ä½œ |

**æ“ä½œæŒ‰é’®è¯´æ˜**ï¼š

| æŒ‰é’® | å›¾æ ‡ | åŠŸèƒ½ | æ˜¾ç¤ºæ¡ä»¶ |
|------|------|------|----------|
| æŸ¥çœ‹è¯¦æƒ… | ğŸ‘ï¸ | æ‰“å¼€è¿åŠ¨å‘˜è¯¦æƒ…å¼¹çª— | å§‹ç»ˆæ˜¾ç¤º |
| å®¡æ‰¹é€šè¿‡ | âœ“ | å°†è¿åŠ¨å‘˜çŠ¶æ€æ”¹ä¸ºå·²å®¡æ‰¹ | ä»…å¾…å®¡æ‰¹çŠ¶æ€æ˜¾ç¤º |
| æ‹’ç» | âœ— | å°†è¿åŠ¨å‘˜çŠ¶æ€æ”¹ä¸ºå·²æ‹’ç» | ä»…å¾…å®¡æ‰¹çŠ¶æ€æ˜¾ç¤º |
| ç¼–è¾‘ | âœï¸ | æ‰“å¼€ç¼–è¾‘å¼¹çª—ä¿®æ”¹ä¿¡æ¯ | å§‹ç»ˆæ˜¾ç¤º |
| åˆ é™¤ | ğŸ—‘ï¸ | åˆ é™¤è¿åŠ¨å‘˜æ¡£æ¡ˆ | å§‹ç»ˆæ˜¾ç¤º |

**å¼¹çª—ç»„ä»¶è®¾è®¡**ï¼š

1. **è¯¦æƒ…å¼¹çª—**ï¼šå±•ç¤ºè¿åŠ¨å‘˜å®Œæ•´ä¿¡æ¯å’Œç”Ÿæ¶¯ç»Ÿè®¡
2. **ç¼–è¾‘å¼¹çª—**ï¼šè¡¨å•ç¼–è¾‘è¿åŠ¨å‘˜åŸºæœ¬ä¿¡æ¯
3. **å¯¼å…¥å¼¹çª—**ï¼šæ”¯æŒæ‹–æ‹½ä¸Šä¼ CSV/Excelæ–‡ä»¶
4. **åˆ é™¤ç¡®è®¤å¼¹çª—**ï¼šäºŒæ¬¡ç¡®è®¤é˜²æ­¢è¯¯åˆ 

**å‰ç«¯æ ¸å¿ƒä»£ç  (AdminAthletes.vue)**ï¼š

```vue
<script>
export default {
  name: 'AdminAthletes',
  
  setup() {
    const athletes = ref([]);
    const filteredAthletes = ref([]);
    const loading = ref(false);
    
    // ç»Ÿè®¡æ•°æ®ï¼ˆè®¡ç®—å±æ€§ï¼‰
    const approvedCount = computed(() => 
      athletes.value.filter(a => a.approvalStatus === 'APPROVED').length);
    const pendingCount = computed(() => 
      athletes.value.filter(a => a.approvalStatus === 'PENDING').length);
    const nationalLevelCount = computed(() => 
      athletes.value.filter(a => a.level === 'å›½å®¶çº§').length);
    
    // åŠ è½½è¿åŠ¨å‘˜åˆ—è¡¨
    const loadAthletes = async () => {
      loading.value = true;
      try {
        const res = await apiClient.get('/admin/athletes');
        if (res.success) {
          athletes.value = res.athletes || [];
          filterAthletes();
        }
      } finally {
        loading.value = false;
      }
    };
    
    // å®¡æ‰¹è¿åŠ¨å‘˜
    const approveAthlete = async (athlete) => {
      const res = await apiClient.put(`/admin/athletes/${athlete.id}/approve`);
      if (res.success) {
        ElMessage.success('å®¡æ‰¹é€šè¿‡');
        loadAthletes();
      }
    };
    
    // å¯¼å‡ºè¿åŠ¨å‘˜
    const exportAthletes = async (format) => {
      const response = await apiClient.get(
        `/admin/athletes/export?format=${format}`,
        { responseType: 'blob' }
      );
      // åˆ›å»ºä¸‹è½½é“¾æ¥
      const blob = new Blob([response], { type: contentType });
      const url = window.URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `athletes_${date}.${format}`;
      link.click();
    };
    
    return { /* ... */ };
  }
};
</script>
```

#### 3.3.3 æ ·å¼è®¾è®¡è§„èŒƒ

**é…è‰²æ–¹æ¡ˆ**ï¼š

| ç”¨é€” | é¢œè‰²ä»£ç  | è¯´æ˜ |
|------|----------|------|
| ä¸»è‰²è°ƒ | #10b981 | ç»¿è‰²ï¼Œç”¨äºä¸»è¦æŒ‰é’®å’Œå¼ºè°ƒ |
| æˆåŠŸçŠ¶æ€ | #22c55e | å®¡æ‰¹é€šè¿‡ã€æ“ä½œæˆåŠŸ |
| è­¦å‘ŠçŠ¶æ€ | #f59e0b | å¾…å®¡æ‰¹ã€æš‚åœçŠ¶æ€ |
| å±é™©çŠ¶æ€ | #ef4444 | æ‹’ç»ã€åˆ é™¤æ“ä½œ |
| ä¿¡æ¯çŠ¶æ€ | #3b82f6 | æŸ¥çœ‹ã€ç¼–è¾‘æ“ä½œ |
| èƒŒæ™¯è‰² | #f8fafc | é¡µé¢èƒŒæ™¯ |
| å¡ç‰‡èƒŒæ™¯ | #ffffff | å¡ç‰‡å’Œè¡¨æ ¼èƒŒæ™¯ |

**å“åº”å¼æ–­ç‚¹**ï¼š

```css
/* æ¡Œé¢ç«¯ */
@media (min-width: 1024px) {
  .stats-grid { grid-template-columns: repeat(4, 1fr); }
}

/* å¹³æ¿ç«¯ */
@media (max-width: 768px) {
  .page-header { flex-direction: column; }
  .filter-bar { flex-direction: column; }
  .form-row { grid-template-columns: 1fr; }
}

/* ç§»åŠ¨ç«¯ */
@media (max-width: 480px) {
  .dashboard-container { padding: 0; }
  .dashboard-card { border-radius: 0; }
}
```

### 3.4 ç®¡ç†å‘˜åŠŸèƒ½äº¤äº’æµç¨‹

#### 3.4.1 è¿åŠ¨å‘˜å®¡æ‰¹æµç¨‹

```mermaid
flowchart TB
    A[è¿åŠ¨å‘˜æ³¨å†Œ] --> B[åˆ›å»ºæ¡£æ¡ˆ]
    B --> C[å¾…å®¡æ‰¹çŠ¶æ€]
    
    C --> D{ç®¡ç†å‘˜æ“ä½œ}
    
    D --> E[æŸ¥çœ‹è¿åŠ¨å‘˜åˆ—è¡¨]
    D --> F[å®¡æ‰¹é€šè¿‡ç”³è¯·]
    D --> G[æ‹’ç»æ¡£æ¡ˆç”³è¯·]
    
    F --> H[å·²å®¡æ‰¹çŠ¶æ€<br/>å¯å‚ä¸æ¯”èµ›]
    G --> I[å·²æ‹’ç»çŠ¶æ€<br/>æ— æ³•å‚ä¸]
    
    style A fill:#e1f5fe
    style B fill:#e1f5fe
    style C fill:#fff3e0
    style D fill:#f3e5f5
    style E fill:#e8f5e9
    style F fill:#e8f5e9
    style G fill:#ffebee
    style H fill:#c8e6c9
    style I fill:#ffcdd2
```

#### 3.4.2 ç”¨æˆ·ç®¡ç†æ“ä½œæµç¨‹

```mermaid
flowchart TB
    A[ç®¡ç†å‘˜ç™»å½•] --> B[è¿›å…¥ç”¨æˆ·ç®¡ç†]
    B --> C{é€‰æ‹©æ“ä½œ}
    
    C --> D[åˆ›å»ºç”¨æˆ·]
    C --> E[ç¼–è¾‘ç”¨æˆ·]
    C --> F[åˆ é™¤ç”¨æˆ·]
    
    D --> D1[å¡«å†™ç”¨æˆ·ä¿¡æ¯]
    D1 --> D2[å¯†ç BCryptåŠ å¯†]
    D2 --> D3[ä¿å­˜åˆ°æ•°æ®åº“]
    
    E --> E1[ä¿®æ”¹è§’è‰²/çŠ¶æ€]
    E1 --> E2[ç¦ç”¨æ—¶è‡ªåŠ¨è¸¢å‡º]
    E2 --> E3[æ›´æ–°æ•°æ®åº“]
    
    F --> F1[ç¡®è®¤åˆ é™¤]
    F1 --> F2[å¼ºåˆ¶ä¸‹çº¿]
    F2 --> F3[åˆ é™¤è®°å½•]
    
    style A fill:#e3f2fd
    style B fill:#e3f2fd
    style C fill:#fff9c4
    style D fill:#c8e6c9
    style E fill:#ffe0b2
    style F fill:#ffcdd2
    style D3 fill:#a5d6a7
    style E3 fill:#ffcc80
    style F3 fill:#ef9a9a
```

#### 3.4.3 è®­ç»ƒæ•°æ®å¯¼å‡ºæµç¨‹

```mermaid
flowchart TB
    A[ç®¡ç†å‘˜é€‰æ‹©å¯¼å‡º] --> B{é€‰æ‹©ç»´åº¦}
    
    B --> C[æ—¶é—´ç»´åº¦<br/>DAY/WEEK/MONTH]
    B --> D[è¿åŠ¨å‘˜ç»´åº¦<br/>æŒ‰äººèšåˆ]
    B --> E[é¡¹ç›®ç»´åº¦<br/>æŒ‰é¡¹ç›®èšåˆ]
    
    C --> F[è®¾ç½®ç­›é€‰æ¡ä»¶]
    D --> F
    E --> F
    
    F --> G[ç”ŸæˆæŠ¥è¡¨]
    G --> H[ç”ŸæˆExcelæ–‡ä»¶ä¸‹è½½]
    
    style A fill:#e3f2fd
    style B fill:#fff9c4
    style C fill:#e8f5e9
    style D fill:#e8f5e9
    style E fill:#e8f5e9
    style F fill:#ffe0b2
    style G fill:#f3e5f5
    style H fill:#c8e6c9
```

---

## å››ã€é˜¶æ®µæ€§æˆæœæ€»ç»“

### 4.1 åŠŸèƒ½å®Œæˆåº¦

| æ¨¡å— | è®¡åˆ’åŠŸèƒ½ç‚¹ | å·²å®Œæˆ | å®Œæˆç‡ |
|------|-----------|--------|--------|
| ç”¨æˆ·ç®¡ç† | 5 | 5 | 100% |
| è¿åŠ¨å‘˜æ¡£æ¡ˆ | 4 | 4 | 100% |
| è®­ç»ƒç®¡ç† | 6 | 6 | 100% |
| æ¯”èµ›ç®¡ç† | 10 | 10 | 100% |
| å®æ—¶é€šä¿¡ | 5 | 5 | 100% |
| æ•°æ®åˆ†æ | 4 | 4 | 100% |
| ç®¡ç†å‘˜åŠŸèƒ½ | 12 | 12 | 100% |
| **æ€»è®¡** | **46** | **46** | **100%** |

### 4.2 ç®¡ç†å‘˜åŠŸèƒ½å®Œæˆåº¦

| åŠŸèƒ½æ¨¡å— | åŠŸèƒ½ç‚¹ | çŠ¶æ€ |
|----------|--------|------|
| ä»ªè¡¨ç›˜ | ç³»ç»Ÿæ¦‚è§ˆç»Ÿè®¡ | âœ… å·²å®Œæˆ |
| ä»ªè¡¨ç›˜ | å¾…åŠäº‹é¡¹æé†’ | âœ… å·²å®Œæˆ |
| ç”¨æˆ·ç®¡ç† | ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢ | âœ… å·²å®Œæˆ |
| ç”¨æˆ·ç®¡ç† | åˆ›å»ºç”¨æˆ· | âœ… å·²å®Œæˆ |
| ç”¨æˆ·ç®¡ç† | æ›´æ–°ç”¨æˆ·è§’è‰²/çŠ¶æ€ | âœ… å·²å®Œæˆ |
| ç”¨æˆ·ç®¡ç† | é‡ç½®ç”¨æˆ·å¯†ç  | âœ… å·²å®Œæˆ |
| ç”¨æˆ·ç®¡ç† | åˆ é™¤ç”¨æˆ· | âœ… å·²å®Œæˆ |
| ç”¨æˆ·ç®¡ç† | å¼ºåˆ¶è¸¢å‡ºç”¨æˆ· | âœ… å·²å®Œæˆ |
| è¿åŠ¨å‘˜ç®¡ç† | è¿åŠ¨å‘˜åˆ—è¡¨æŸ¥è¯¢ | âœ… å·²å®Œæˆ |
| è¿åŠ¨å‘˜ç®¡ç† | è¿åŠ¨å‘˜ä¿¡æ¯ç¼–è¾‘ | âœ… å·²å®Œæˆ |
| è¿åŠ¨å‘˜ç®¡ç† | è¿åŠ¨å‘˜å®¡æ‰¹/æ‹’ç» | âœ… å·²å®Œæˆ |
| è¿åŠ¨å‘˜ç®¡ç† | è¿åŠ¨å‘˜åˆ é™¤ | âœ… å·²å®Œæˆ |
| è¿åŠ¨å‘˜ç®¡ç† | æ‰¹é‡å¯¼å‡ºï¼ˆCSV/Excelï¼‰ | âœ… å·²å®Œæˆ |
| è¿åŠ¨å‘˜ç®¡ç† | æ‰¹é‡å¯¼å…¥ | âœ… å·²å®Œæˆ |
| è®­ç»ƒç»Ÿè®¡ | æ—¶é—´ç»´åº¦ç»Ÿè®¡ | âœ… å·²å®Œæˆ |
| è®­ç»ƒç»Ÿè®¡ | è¿åŠ¨å‘˜ç»´åº¦ç»Ÿè®¡ | âœ… å·²å®Œæˆ |
| è®­ç»ƒç»Ÿè®¡ | é¡¹ç›®ç»´åº¦ç»Ÿè®¡ | âœ… å·²å®Œæˆ |
| è®­ç»ƒç»Ÿè®¡ | ç»Ÿè®¡æŠ¥è¡¨å¯¼å‡º | âœ… å·²å®Œæˆ |
| æ¯”èµ›ç®¡ç† | åˆ›å»ºæ¯”èµ› | âœ… å·²å®Œæˆ |
| æ¯”èµ›ç®¡ç† | æ›´æ–°æ¯”èµ›é…ç½® | âœ… å·²å®Œæˆ |
| æ¯”èµ›ç®¡ç† | å¼ºåˆ¶ç»“æŸæ¯”èµ› | âœ… å·²å®Œæˆ |
| æ¯”èµ›ç®¡ç† | æˆç»©å¯¼å‡ºï¼ˆCSV/Excel/PDFï¼‰ | âœ… å·²å®Œæˆ |

### 4.3 æŠ€æœ¯åˆ›æ–°ç‚¹

1. **è™šæ‹Ÿäº¤äº’å¼å°„å‡»é¶**
   - åŸºäºSVGå®ç°å¯äº¤äº’å¼å°„å‡»é¶ï¼Œæ”¯æŒé¼ æ ‡ç‚¹å‡»æ¨¡æ‹Ÿå°„å‡»
   - å®æ—¶è®¡ç®—ç‚¹å‡»ä½ç½®ä¸é¶å¿ƒè·ç¦»ï¼Œè‡ªåŠ¨è¯„åˆ†ï¼ˆ1-10ç¯ï¼‰
   - å®æ—¶æ˜¾ç¤ºå¼¹å­”ä½ç½®å’Œå°„å‡»è½¨è¿¹

2. **åŸºäºWebSocketçš„å®æ—¶æ’åç³»ç»Ÿ**
   - é‡‡ç”¨WebSocketå…¨åŒå·¥é€šä¿¡ï¼Œå®ç°æœåŠ¡å™¨ä¸»åŠ¨æ¨é€
   - æ— éœ€åˆ·æ–°é¡µé¢å³å¯çœ‹åˆ°æœ€æ–°æ’åï¼Œå»¶è¿Ÿ<100ms
   - å‡å°‘HTTPè½®è¯¢å¸¦æ¥çš„ç½‘ç»œå¼€é”€

3. **ç»†ç²’åº¦æƒé™æ§åˆ¶ç³»ç»Ÿ**
   - åŸºäºSa-Tokenå®ç°RBACæƒé™æ¨¡å‹
   - 12é¡¹ç®¡ç†å‘˜æƒé™ç ç²¾ç»†æ§åˆ¶
   - æ”¯æŒæ¥å£çº§åˆ«æƒé™éªŒè¯

4. **æ•°æ®åˆ†ç‰‡å­˜å‚¨æ¶æ„**
   - é‡‡ç”¨ShardingSphereå®ç°é€æ˜çš„æ•°æ®åˆ†ç‰‡
   - å°„å‡»è®°å½•æŒ‰user_idåˆ†ç‰‡ï¼Œæé«˜æŸ¥è¯¢å’Œå†™å…¥æ€§èƒ½
   - æ”¯æŒåœ¨çº¿æ°´å¹³æ‰©å±•

5. **æ™ºèƒ½è®­ç»ƒæŠ¥å‘Šç”Ÿæˆ**
   - åŸºäºiText 7è‡ªåŠ¨ç”Ÿæˆä¸­æ–‡PDFæŠ¥å‘Š
   - åŒ…å«æ€»åˆ†ã€å¹³å‡åˆ†ã€ç¨³å®šæ€§æŒ‡æ•°ç­‰å¤šé¡¹æŒ‡æ ‡
   - æ”¯æŒå›¾è¡¨åµŒå…¥å’Œæ•°æ®å¯è§†åŒ–

### 4.4 ä»£ç è´¨é‡

- åç«¯ä»£ç ï¼š58ä¸ªJavaæ–‡ä»¶ï¼Œçº¦15,000è¡Œä»£ç 
- å‰ç«¯ä»£ç ï¼š28ä¸ªVue/JSæ–‡ä»¶ï¼Œçº¦8,000è¡Œä»£ç 
- æµ‹è¯•ä»£ç ï¼š3ä¸ªæµ‹è¯•ç±»ï¼Œçº¦1,650è¡Œæµ‹è¯•ä»£ç 
- ç¼–è¯‘é€šè¿‡ç‡ï¼š100%
- Linteré”™è¯¯ï¼š0ä¸ª

---

## äº”ã€é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1 WebSocketè¿æ¥ç¨³å®šæ€§é—®é¢˜

**é—®é¢˜æè¿°**ï¼šåœ¨ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µä¸‹ï¼ŒWebSocketè¿æ¥å®¹æ˜“æ–­å¼€ï¼Œå¯¼è‡´å®æ—¶æ•°æ®æ¨é€å¤±è´¥ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å®ç°å®¢æˆ·ç«¯è‡ªåŠ¨é‡è¿æœºåˆ¶ï¼Œæ–­å¼€åè‡ªåŠ¨å°è¯•é‡è¿
2. æ·»åŠ å¿ƒè·³æ£€æµ‹æœºåˆ¶ï¼Œå®šæœŸå‘é€pingæ¶ˆæ¯ä¿æŒè¿æ¥
3. åœ¨é‡è¿æœŸé—´ç¼“å­˜æœªå‘é€çš„æ¶ˆæ¯ï¼Œè¿æ¥æ¢å¤åè‡ªåŠ¨å‘é€

### 5.2 æ•°æ®åˆ†ç‰‡é…ç½®å¤æ‚æ€§

**é—®é¢˜æè¿°**ï¼šShardingSphereé…ç½®å¤æ‚ï¼ŒåˆæœŸé…ç½®é”™è¯¯å¯¼è‡´æ•°æ®æŸ¥è¯¢å¼‚å¸¸ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. è¯¦ç»†é˜…è¯»ShardingSphereå®˜æ–¹æ–‡æ¡£ï¼Œç†è§£åˆ†ç‰‡ç­–ç•¥
2. é‡‡ç”¨ç®€å•çš„user_idå–æ¨¡åˆ†ç‰‡ç­–ç•¥
3. åœ¨å°„å‡»è®°å½•è¡¨ä¸­å†—ä½™user_idå­—æ®µä½œä¸ºåˆ†ç‰‡é”®
4. æ·»åŠ å®Œæ•´çš„ç´¢å¼•ä¼˜åŒ–ï¼ˆathlete_id + shot_at, competition_idç­‰ï¼‰

### 5.3 Sa-Tokenæƒé™æµ‹è¯•ç¯å¢ƒé—®é¢˜

**é—®é¢˜æè¿°**ï¼šControllerå±‚æµ‹è¯•ä¸­ï¼ŒSa-Tokenæƒé™éªŒè¯åœ¨æµ‹è¯•ç¯å¢ƒä¸‹è¿”å›401é”™è¯¯ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. Serviceå±‚æµ‹è¯•ä¸ä¾èµ–HTTPè¯·æ±‚å’Œæ³¨è§£æƒé™ï¼Œç›´æ¥è°ƒç”¨æœåŠ¡æ–¹æ³•
2. æ ¸å¿ƒä¸šåŠ¡é€»è¾‘é€šè¿‡Serviceå±‚æµ‹è¯•å·²å®Œå…¨éªŒè¯
3. åç»­è®¡åˆ’æ·»åŠ æµ‹è¯•ä¸“ç”¨çš„Sa-Token Mocké…ç½®

### 5.4 PDFä¸­æ–‡å­—ä½“æ˜¾ç¤ºé—®é¢˜

**é—®é¢˜æè¿°**ï¼šä½¿ç”¨iTextç”ŸæˆPDFæ—¶ï¼Œä¸­æ–‡å­—ç¬¦æ˜¾ç¤ºä¸ºä¹±ç æˆ–ç©ºç™½ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å¼•å…¥iText font-asianä¾èµ–åŒ…
2. ä½¿ç”¨STSong-Lightå­—ä½“ä½œä¸ºä¸­æ–‡å­—ä½“
3. æ­£ç¡®è®¾ç½®å­—ä½“ç¼–ç ä¸ºUniGB-UCS2-H

### 5.5 å‰ç«¯çŠ¶æ€ç®¡ç†å¤æ‚æ€§

**é—®é¢˜æè¿°**ï¼šå¤šä¸ªç»„ä»¶éœ€è¦å…±äº«æ¯”èµ›çŠ¶æ€ã€æ’åæ•°æ®ç­‰ï¼ŒçŠ¶æ€ç®¡ç†æ··ä¹±ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. é‡‡ç”¨Piniaä½œä¸ºçŠ¶æ€ç®¡ç†åº“
2. å°†è®­ç»ƒçŠ¶æ€ã€æ¯”èµ›çŠ¶æ€åˆ†æ¨¡å—ç®¡ç†
3. ä½¿ç”¨Composition APIå®ç°é€»è¾‘å¤ç”¨

### 5.6 ç®¡ç†å‘˜æƒé™å‰ç«¯åˆ¤æ–­

**é—®é¢˜æè¿°**ï¼šå‰ç«¯éœ€è¦æ ¹æ®ç”¨æˆ·è§’è‰²åŠ¨æ€æ˜¾ç¤º/éšè—ç®¡ç†å‘˜åŠŸèƒ½å…¥å£ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç™»å½•æˆåŠŸåå°†ç”¨æˆ·è§’è‰²ä¿¡æ¯å­˜å‚¨åˆ°Pinia Store
2. ä½¿ç”¨è®¡ç®—å±æ€§`isAdmin`åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦ä¸ºç®¡ç†å‘˜
3. åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨`v-if="isAdmin"`æ¡ä»¶æ¸²æŸ“ç®¡ç†å‘˜ä¸“å±ç»„ä»¶

---

## å…­ã€ä¸‹ä¸€æ­¥å·¥ä½œè®¡åˆ’

### 6.1 ç³»ç»Ÿä¼˜åŒ–ï¼ˆé¢„è®¡1å‘¨ï¼‰

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„è®¡å·¥æ—¶ |
|------|--------|----------|
| Controllerå±‚æµ‹è¯•æƒé™é…ç½®ä¼˜åŒ– | é«˜ | 2å¤© |
| æ€§èƒ½æµ‹è¯•ä¸ä¼˜åŒ– | é«˜ | 2å¤© |
| ä»£ç é‡æ„ä¸ä¼˜åŒ– | ä¸­ | 1å¤© |

### 6.2 åŠŸèƒ½å¢å¼ºï¼ˆé¢„è®¡1å‘¨ï¼‰

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„è®¡å·¥æ—¶ |
|------|--------|----------|
| ç§»åŠ¨ç«¯å“åº”å¼é€‚é… | ä¸­ | 2å¤© |
| æ•°æ®å¤‡ä»½ä¸æ¢å¤åŠŸèƒ½ | ä¸­ | 1å¤© |
| ç³»ç»Ÿæ—¥å¿—ä¸ç›‘æ§ | ä½ | 2å¤© |

### 6.3 éƒ¨ç½²ä¸æ–‡æ¡£ï¼ˆé¢„è®¡1å‘¨ï¼‰

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„è®¡å·¥æ—¶ |
|------|--------|----------|
| ç”Ÿäº§ç¯å¢ƒéƒ¨ç½² | é«˜ | 2å¤© |
| ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œç¼–å†™ | é«˜ | 1å¤© |
| ç³»ç»Ÿç»´æŠ¤æ–‡æ¡£ç¼–å†™ | ä¸­ | 1å¤© |
| ç­”è¾©ææ–™å‡†å¤‡ | é«˜ | 1å¤© |

### 6.4 åç»­æ”¹è¿›æ–¹å‘

1. **æ€§èƒ½ä¼˜åŒ–**
   - å¤§æ•°æ®é‡ç»Ÿè®¡æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–
   - å¹¶å‘æŠ¥ååœºæ™¯å‹åŠ›æµ‹è¯•
   - æ•°æ®åº“æŸ¥è¯¢ç´¢å¼•ä¼˜åŒ–

2. **åŠŸèƒ½æ‰©å±•**
   - æ·»åŠ æ•°æ®å¯¼å…¥æ¨¡æ¿ä¸‹è½½åŠŸèƒ½
   - æ”¯æŒæ›´å¤šæŠ¥å‘Šæ ¼å¼å¯¼å‡º
   - æ·»åŠ è®­ç»ƒè®¡åˆ’ç®¡ç†åŠŸèƒ½

3. **CI/CDé›†æˆ**
   - é…ç½®GitHub Actionsè‡ªåŠ¨åŒ–æµ‹è¯•
   - é›†æˆJacocoä»£ç è¦†ç›–ç‡æŠ¥å‘Š
   - è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹

---

## ä¸ƒã€æ€»ç»“

æœ¬é¡¹ç›®æŒ‰ç…§å¼€é¢˜æŠ¥å‘Šä¸­çš„ç ”ç©¶è®¡åˆ’ç¨³æ­¥æ¨è¿›ï¼Œç›®å‰å·²å®Œæˆå…¨éƒ¨æ ¸å¿ƒåŠŸèƒ½æ¨¡å—çš„å¼€å‘å·¥ä½œã€‚ç³»ç»Ÿå®ç°äº†ç”¨æˆ·ç®¡ç†ã€è¿åŠ¨å‘˜æ¡£æ¡ˆç®¡ç†ã€è®­ç»ƒç®¡ç†ã€æ¯”èµ›ç®¡ç†ã€å®æ—¶é€šä¿¡å’Œæ•°æ®åˆ†æç­‰åŠŸèƒ½ï¼ŒæŠ€æœ¯æ¶æ„ç¨³å®šï¼Œä»£ç è´¨é‡è‰¯å¥½ã€‚

åœ¨ç®¡ç†å‘˜åŠŸèƒ½æ–¹é¢ï¼Œç³»ç»Ÿå®ç°äº†å®Œå–„çš„æƒé™æ§åˆ¶ä½“ç³»ï¼ŒåŒ…æ‹¬12é¡¹ç»†ç²’åº¦æƒé™ç ã€åŸºäºSa-Tokençš„æ¥å£çº§æƒé™éªŒè¯ã€ä»¥åŠå‰ç«¯çš„åŠ¨æ€æƒé™åˆ¤æ–­ã€‚ç®¡ç†å‘˜å¯ä»¥é€šè¿‡ç›´è§‚çš„æ“ä½œç•Œé¢å®Œæˆç”¨æˆ·ç®¡ç†ã€è¿åŠ¨å‘˜å®¡æ‰¹ã€è®­ç»ƒç»Ÿè®¡åˆ†æã€æ¯”èµ›ç®¡ç†ç­‰æ ¸å¿ƒç®¡ç†ä»»åŠ¡ã€‚

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå›¢é˜Ÿå…‹æœäº†WebSocketè¿æ¥ç¨³å®šæ€§ã€æ•°æ®åˆ†ç‰‡é…ç½®ã€æƒé™æµ‹è¯•ç­‰æŠ€æœ¯éš¾é¢˜ï¼Œç§¯ç´¯äº†å®è´µçš„å®è·µç»éªŒã€‚Serviceå±‚32ä¸ªæ ¸å¿ƒä¸šåŠ¡æµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼ŒéªŒè¯äº†ç³»ç»Ÿçš„ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ€§ã€‚

ä¸‹ä¸€é˜¶æ®µå°†é‡ç‚¹è¿›è¡Œç³»ç»Ÿä¼˜åŒ–ã€åŠŸèƒ½å¢å¼ºå’Œéƒ¨ç½²æ–‡æ¡£å·¥ä½œï¼Œç¡®ä¿é¡¹ç›®æŒ‰æ—¶é«˜è´¨é‡å®Œæˆã€‚

---

**æŠ¥å‘Šç¼–å†™æ—¥æœŸ**ï¼š2025å¹´12æœˆ12æ—¥

**é¡¹ç›®è¿›åº¦**ï¼šå·²å®Œæˆçº¦85%

**é¢„è®¡å®Œæˆæ—¶é—´**ï¼š2025å¹´12æœˆåº•

