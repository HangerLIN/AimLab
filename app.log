[INFO] Scanning for projects...
[INFO] 
[INFO] ----------< com.aimlab:shooting-training-competition-system >-----------
[INFO] Building shooting-training-competition-system 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:2.7.14:run (default-cli) > test-compile @ shooting-training-competition-system >>>
[INFO] 
[INFO] --- resources:3.2.0:resources (default-resources) @ shooting-training-competition-system ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Using 'UTF-8' encoding to copy filtered properties files.
[INFO] Copying 1 resource
[INFO] Copying 10 resources
[INFO] 
[INFO] --- compiler:3.10.1:compile (default-compile) @ shooting-training-competition-system ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- resources:3.2.0:testResources (default-testResources) @ shooting-training-competition-system ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Using 'UTF-8' encoding to copy filtered properties files.
[INFO] skip non existing resourceDirectory /Users/hangerlin/AimLab/src/test/resources
[INFO] 
[INFO] --- compiler:3.10.1:testCompile (default-testCompile) @ shooting-training-competition-system ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] <<< spring-boot:2.7.14:run (default-cli) < test-compile @ shooting-training-competition-system <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:2.7.14:run (default-cli) @ shooting-training-competition-system ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::               (v2.7.14)

2025-09-30 16:10:39.311  INFO 38051 --- [           main] tingTrainingCompetitionSystemApplication : Starting ShootingTrainingCompetitionSystemApplication using Java 1.8.0_452 on HANGERLIN-MC1 with PID 38051 (/Users/hangerlin/AimLab/target/classes started by hangerlin in /Users/hangerlin/AimLab)
2025-09-30 16:10:39.314  INFO 38051 --- [           main] tingTrainingCompetitionSystemApplication : No active profile set, falling back to 1 default profile: "default"
2025-09-30 16:10:40.903  INFO 38051 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8083 (http)
2025-09-30 16:10:40.910  INFO 38051 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-30 16:10:40.910  INFO 38051 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-09-30 16:10:41.006  INFO 38051 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-30 16:10:41.006  INFO 38051 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1462 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
Parsed mapper file: 'file [/Users/hangerlin/AimLab/target/classes/mapper/AthleteMapper.xml]'
Parsed mapper file: 'file [/Users/hangerlin/AimLab/target/classes/mapper/CompetitionAthleteMapper.xml]'
Parsed mapper file: 'file [/Users/hangerlin/AimLab/target/classes/mapper/CompetitionMapper.xml]'
Parsed mapper file: 'file [/Users/hangerlin/AimLab/target/classes/mapper/CompetitionResultMapper.xml]'
Parsed mapper file: 'file [/Users/hangerlin/AimLab/target/classes/mapper/ShootingRecordMapper.xml]'
Parsed mapper file: 'file [/Users/hangerlin/AimLab/target/classes/mapper/TrainingSessionMapper.xml]'
Parsed mapper file: 'file [/Users/hangerlin/AimLab/target/classes/mapper/UserMapper.xml]'
____ ____    ___ ____ _  _ ____ _  _ 
[__  |__| __  |  |  | |_/  |___ |\ | 
___] |  |     |  |__| | \_ |___ | \| 
https://sa-token.cc (v1.34.0)
2025-09-30 16:10:43.049  INFO 38051 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8083 (http) with context path ''
2025-09-30 16:10:43.051  INFO 38051 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2025-09-30 16:10:43.051  INFO 38051 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@77c3c037]]
2025-09-30 16:10:43.051  INFO 38051 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2025-09-30 16:10:43.064  INFO 38051 --- [           main] tingTrainingCompetitionSystemApplication : Started ShootingTrainingCompetitionSystemApplication in 4.74 seconds (JVM running for 5.327)
2025-09-30 16:10:44.377  INFO 38051 --- [nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-30 16:10:44.377  INFO 38051 --- [nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-30 16:10:44.378  INFO 38051 --- [nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a5d5043] was not registered for synchronization because synchronization is not active
2025-09-30 16:11:08.621  INFO 38051 --- [nio-8083-exec-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-09-30 16:11:08.738  INFO 38051 --- [nio-8083-exec-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
JDBC Connection [HikariProxyConnection@687873844 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions ORDER BY created_at DESC
==> Parameters: 
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 15, 测试比赛API, 3, 10, 60, CREATED, null, 2025-09-30 16:10:03, null, null
<==        Row: 14, 打打, 3, 10, 60, COMPLETED, null, 2025-09-30 15:17:13, 2025-09-30 15:57:08, null
<==        Row: 13, 企微, 3, 10, 60, COMPLETED, null, 2025-09-30 15:12:50, 2025-09-30 15:13:02, null
<==        Row: 12, ss, 3, 10, 60, COMPLETED, null, 2025-09-30 15:08:04, 2025-09-30 15:12:31, null
<==        Row: 11, 全链路测试比赛2025, 2, 3, 60, COMPLETED, null, 2025-09-30 15:00:52, 2025-09-30 15:01:09, null
<==        Row: 10, MCP完整测试比赛, 2, 5, 60, COMPLETED, null, 2025-09-30 14:51:41, 2025-09-30 14:51:55, null
<==        Row: 9, MCP测试比赛2025, 2, 5, 60, RUNNING, null, 2025-09-30 14:47:19, 2025-09-30 14:49:46, null
<==        Row: 8, 对对对, 3, 10, 60, RUNNING, null, 2025-09-30 14:45:42, 2025-09-30 14:52:46, null
<==        Row: 7, 测试比赛修复, 3, 10, 60, RUNNING, null, 2025-09-30 14:44:56, 2025-09-30 15:57:21, null
<==        Row: 6, WebSocket实时射击测试, 2, 5, 60, RUNNING, null, 2025-09-30 12:34:56, 2025-09-30 15:12:41, null
<==        Row: 5, MCP调试测试比赛, 3, 5, 60, CREATED, null, 2025-09-30 00:07:06, null, null
<==        Row: 4, MCP测试比赛, 2, 3, 60, CREATED, null, 2025-09-29 23:39:11, null, null
<==        Row: 3, 全链路测试比赛, 3, 5, 30, CREATED, null, 2025-09-29 18:25:42, null, null
<==        Row: 2, 啊啊啊, null, null, null, CREATED, null, 2025-09-29 17:59:40, null, null
<==        Row: 1, 射击训练测试比赛, 3, 10, 30, CREATED, null, 2025-09-29 13:46:43, null, null
<==      Total: 15
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a5d5043]
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c254e89]
JDBC Connection [HikariProxyConnection@2079819351 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will be managed by Spring
==>  Preparing: INSERT INTO competitions (name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
==> Parameters: 前端创建测试(String), 3(Integer), 10(Integer), 60(Integer), CREATED(String), null, 2025-09-30T16:11:14.983(LocalDateTime), null, null
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c254e89]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c254e89]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c254e89]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c254e89]
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6a8087]
JDBC Connection [HikariProxyConnection@1820186735 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will be managed by Spring
==>  Preparing: INSERT INTO competitions (name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
==> Parameters: 前端创建测试(String), 3(Integer), 10(Integer), 60(Integer), CREATED(String), null, 2025-09-30T16:11:20.981(LocalDateTime), null, null
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6a8087]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6a8087]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6a8087]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6a8087]
2025-09-30 16:11:41.671  INFO 38051 --- [MessageBroker-5] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 9], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 2, completed tasks = 14]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d6d66a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@693463753 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM users WHERE username = ?
==> Parameters: test(String)
<==    Columns: id, username, password, role, status, created_at, updated_at
<==        Row: 1, test, $2a$10$TFno6cwBvQdsPJCRvgjBdeXkA5SLKQMBM6eBWAMZT3pgwpQr/c1y2, ADMIN, 1, 2025-09-29 13:59:27, 2025-09-30 14:32:30
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d6d66a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f0b7096] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1583577114 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f0b7096]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34de81bf] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@276154482 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM training_sessions WHERE athlete_id = ? ORDER BY start_time DESC
==> Parameters: 1(Long)
<==    Columns: id, athlete_id, session_name, start_time, end_time, notes
<==        Row: 23, 1, 123, 2025-09-29 18:17:17, null, <<BLOB>>
<==        Row: 22, 1, 123, 2025-09-29 17:13:55, null, <<BLOB>>
<==        Row: 21, 1, 123, 2025-09-29 16:59:34, null, <<BLOB>>
<==        Row: 20, 1, 123, 2025-09-29 16:59:12, null, <<BLOB>>
<==        Row: 18, 1, 123, 2025-09-29 16:53:22, null, <<BLOB>>
<==        Row: 17, 1, 123, 2025-09-29 16:51:46, null, <<BLOB>>
<==        Row: 16, 1, 全链路测试训练2, 2025-09-29 16:30:18, null, <<BLOB>>
<==        Row: 15, 1, 全链路测试训练, 2025-09-29 16:30:11, null, <<BLOB>>
<==        Row: 14, 1, 123, 2025-09-29 15:45:53, null, <<BLOB>>
<==        Row: 12, 1, 训练场次 1759131691443, 2025-09-29 15:41:31, null, <<BLOB>>
<==        Row: 8, 1, 123, 2025-09-29 14:16:40, null, <<BLOB>>
<==        Row: 7, 1, 123, 2025-09-29 14:10:53, null, <<BLOB>>
<==        Row: 6, 1, 123, 2025-09-29 14:10:37, null, <<BLOB>>
<==        Row: 5, 1, 123, 2025-09-29 14:08:49, null, <<BLOB>>
<==        Row: 4, 1, 123, 2025-09-29 14:06:55, null, <<BLOB>>
<==        Row: 3, 1, 测试训练场次, 2025-09-29 14:05:01, null, <<BLOB>>
<==        Row: 2, 1, 123, 2025-09-29 14:02:39, null, <<BLOB>>
<==        Row: 1, 1, 123, 2025-09-29 14:02:17, null, <<BLOB>>
<==        Row: 11, 1, 速度训练1, 2025-09-29 09:00:00, 2025-09-29 09:25:00, <<BLOB>>
<==        Row: 10, 1, 精确训练1, 2025-09-28 14:00:00, 2025-09-28 14:40:00, <<BLOB>>
<==        Row: 9, 1, 基础训练1, 2025-09-28 10:00:00, 2025-09-28 10:30:00, <<BLOB>>
<==      Total: 21
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34de81bf]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35d737f9] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1060260671 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions ORDER BY created_at DESC
==> Parameters: 
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:21, null, null
<==        Row: 16, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:15, null, null
<==        Row: 15, 测试比赛API, 3, 10, 60, CREATED, null, 2025-09-30 16:10:03, null, null
<==        Row: 14, 打打, 3, 10, 60, COMPLETED, null, 2025-09-30 15:17:13, 2025-09-30 15:57:08, null
<==        Row: 13, 企微, 3, 10, 60, COMPLETED, null, 2025-09-30 15:12:50, 2025-09-30 15:13:02, null
<==        Row: 12, ss, 3, 10, 60, COMPLETED, null, 2025-09-30 15:08:04, 2025-09-30 15:12:31, null
<==        Row: 11, 全链路测试比赛2025, 2, 3, 60, COMPLETED, null, 2025-09-30 15:00:52, 2025-09-30 15:01:09, null
<==        Row: 10, MCP完整测试比赛, 2, 5, 60, COMPLETED, null, 2025-09-30 14:51:41, 2025-09-30 14:51:55, null
<==        Row: 9, MCP测试比赛2025, 2, 5, 60, RUNNING, null, 2025-09-30 14:47:19, 2025-09-30 14:49:46, null
<==        Row: 8, 对对对, 3, 10, 60, RUNNING, null, 2025-09-30 14:45:42, 2025-09-30 14:52:46, null
<==        Row: 7, 测试比赛修复, 3, 10, 60, RUNNING, null, 2025-09-30 14:44:56, 2025-09-30 15:57:21, null
<==        Row: 6, WebSocket实时射击测试, 2, 5, 60, RUNNING, null, 2025-09-30 12:34:56, 2025-09-30 15:12:41, null
<==        Row: 5, MCP调试测试比赛, 3, 5, 60, CREATED, null, 2025-09-30 00:07:06, null, null
<==        Row: 4, MCP测试比赛, 2, 3, 60, CREATED, null, 2025-09-29 23:39:11, null, null
<==        Row: 3, 全链路测试比赛, 3, 5, 30, CREATED, null, 2025-09-29 18:25:42, null, null
<==        Row: 2, 啊啊啊, null, null, null, CREATED, null, 2025-09-29 17:59:40, null, null
<==        Row: 1, 射击训练测试比赛, 3, 10, 30, CREATED, null, 2025-09-29 13:46:43, null, null
<==      Total: 17
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35d737f9]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1081db6b] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@739700235 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1081db6b]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3878c] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@446127870 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 17(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3878c]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18b41c63] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@12785438 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 16(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18b41c63]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d44a42] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1295718303 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 15(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d44a42]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bafa855] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1023310136 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 14(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 16, 14, 1, ENROLLED, 2025-09-30 15:17:17, 2025-09-30 15:17:17, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bafa855]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38b3c7a1] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@776482274 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 13(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 15, 13, 1, ENROLLED, 2025-09-30 15:12:54, 2025-09-30 15:12:54, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38b3c7a1]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a34ee5] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@243997343 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 12(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 14, 12, 1, ENROLLED, 2025-09-30 15:08:10, 2025-09-30 15:08:10, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a34ee5]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@522fef5] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@927227090 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 11(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 10, 11, 1, ENROLLED, 2025-09-30 15:01:00, 2025-09-30 15:01:00, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@522fef5]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abc2dca] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@520835715 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 10(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abc2dca]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13021983] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1523170012 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 9(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13021983]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f085c6] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@129850074 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 8(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 6, 8, 1, ENROLLED, 2025-09-30 14:45:46, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f085c6]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2073df] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1498039948 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 7(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 7, 7, 1, ENROLLED, 2025-09-30 14:54:08, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2073df]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237831f0] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@785055947 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 6(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 5, 6, 1, ENROLLED, 2025-09-30 13:14:32, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237831f0]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eb799e4] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1780045428 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 5(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 17, 5, 1, ENROLLED, 2025-09-30 15:57:15, 2025-09-30 15:57:15, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eb799e4]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750ca523] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1426515712 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 4(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750ca523]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@411fc664] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1370113753 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 3(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 4, 3, 1, ENROLLED, 2025-09-29 23:40:27, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@411fc664]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@216b79a7] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@511227656 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 2(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 2, 2, 1, ENROLLED, 2025-09-29 17:59:43, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@216b79a7]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a3e36ea] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1625473611 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 1(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 1, 1, 1, ENROLLED, 2025-09-29 17:14:09, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a3e36ea]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac2c088] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1419276465 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac2c088]
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436707a]
JDBC Connection [HikariProxyConnection@550302339 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will be managed by Spring
==>  Preparing: SELECT * FROM competitions WHERE id = ?
==> Parameters: 17(Integer)
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:21, null, null
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436707a]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436707a] from current transaction
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 17(Integer), 1(Long)
<==      Total: 0
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436707a]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436707a] from current transaction
==>  Preparing: INSERT INTO competition_athletes (competition_id, athlete_id, status, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
==> Parameters: 17(Integer), 1(Long), ENROLLED(String), 2025-09-30T16:13:33.186(LocalDateTime), 2025-09-30T16:13:33.186(LocalDateTime)
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436707a]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436707a]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436707a]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436707a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70efedf5] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1302353521 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions ORDER BY created_at DESC
==> Parameters: 
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:21, null, null
<==        Row: 16, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:15, null, null
<==        Row: 15, 测试比赛API, 3, 10, 60, CREATED, null, 2025-09-30 16:10:03, null, null
<==        Row: 14, 打打, 3, 10, 60, COMPLETED, null, 2025-09-30 15:17:13, 2025-09-30 15:57:08, null
<==        Row: 13, 企微, 3, 10, 60, COMPLETED, null, 2025-09-30 15:12:50, 2025-09-30 15:13:02, null
<==        Row: 12, ss, 3, 10, 60, COMPLETED, null, 2025-09-30 15:08:04, 2025-09-30 15:12:31, null
<==        Row: 11, 全链路测试比赛2025, 2, 3, 60, COMPLETED, null, 2025-09-30 15:00:52, 2025-09-30 15:01:09, null
<==        Row: 10, MCP完整测试比赛, 2, 5, 60, COMPLETED, null, 2025-09-30 14:51:41, 2025-09-30 14:51:55, null
<==        Row: 9, MCP测试比赛2025, 2, 5, 60, RUNNING, null, 2025-09-30 14:47:19, 2025-09-30 14:49:46, null
<==        Row: 8, 对对对, 3, 10, 60, RUNNING, null, 2025-09-30 14:45:42, 2025-09-30 14:52:46, null
<==        Row: 7, 测试比赛修复, 3, 10, 60, RUNNING, null, 2025-09-30 14:44:56, 2025-09-30 15:57:21, null
<==        Row: 6, WebSocket实时射击测试, 2, 5, 60, RUNNING, null, 2025-09-30 12:34:56, 2025-09-30 15:12:41, null
<==        Row: 5, MCP调试测试比赛, 3, 5, 60, CREATED, null, 2025-09-30 00:07:06, null, null
<==        Row: 4, MCP测试比赛, 2, 3, 60, CREATED, null, 2025-09-29 23:39:11, null, null
<==        Row: 3, 全链路测试比赛, 3, 5, 30, CREATED, null, 2025-09-29 18:25:42, null, null
<==        Row: 2, 啊啊啊, null, null, null, CREATED, null, 2025-09-29 17:59:40, null, null
<==        Row: 1, 射击训练测试比赛, 3, 10, 30, CREATED, null, 2025-09-29 13:46:43, null, null
<==      Total: 17
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70efedf5]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e544a7a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@559647232 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e544a7a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fcec23b] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@591747618 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 17(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 18, 17, 1, ENROLLED, 2025-09-30 16:13:33, 2025-09-30 16:13:33, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fcec23b]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a7cbcf1] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1408919711 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 16(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a7cbcf1]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aea25db] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1964935491 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 15(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aea25db]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1244c83f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1506538321 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 14(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 16, 14, 1, ENROLLED, 2025-09-30 15:17:17, 2025-09-30 15:17:17, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1244c83f]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28811887] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@481310872 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 13(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 15, 13, 1, ENROLLED, 2025-09-30 15:12:54, 2025-09-30 15:12:54, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28811887]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333d0c2f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@332955631 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 12(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 14, 12, 1, ENROLLED, 2025-09-30 15:08:10, 2025-09-30 15:08:10, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333d0c2f]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77fa02e3] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@655178996 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 11(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 10, 11, 1, ENROLLED, 2025-09-30 15:01:00, 2025-09-30 15:01:00, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77fa02e3]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a905e2c] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@618156472 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 10(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a905e2c]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2d29b2] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1935965637 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 9(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2d29b2]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15f17d45] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@665040624 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 8(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 6, 8, 1, ENROLLED, 2025-09-30 14:45:46, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15f17d45]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f3abf4c] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1094707899 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 7(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 7, 7, 1, ENROLLED, 2025-09-30 14:54:08, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f3abf4c]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47389761] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1307738133 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 6(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 5, 6, 1, ENROLLED, 2025-09-30 13:14:32, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47389761]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@640cc0c] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@88129594 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 5(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 17, 5, 1, ENROLLED, 2025-09-30 15:57:15, 2025-09-30 15:57:15, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@640cc0c]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1901efc1] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@430010433 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 4(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1901efc1]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed9fdce] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@137393715 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 3(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 4, 3, 1, ENROLLED, 2025-09-29 23:40:27, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed9fdce]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19f304c9] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1217772980 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 2(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 2, 2, 1, ENROLLED, 2025-09-29 17:59:43, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19f304c9]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50edee48] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1371106768 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 1(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 1, 1, 1, ENROLLED, 2025-09-29 17:14:09, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50edee48]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75b96734] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@2071894003 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions WHERE id = ?
==> Parameters: 17(Integer)
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:21, null, null
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75b96734]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ce2d7eb] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@241092792 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? ORDER BY ca.created_at ASC
==> Parameters: 17(Integer)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 18, 17, 1, ENROLLED, 2025-09-30 16:13:33, 2025-09-30 16:13:33, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ce2d7eb]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390ba634] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@592212849 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM shooting_records WHERE competition_id = ? ORDER BY athlete_id, round_number, shot_number
==> Parameters: 17(Integer)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390ba634]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d250223] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1944249335 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions WHERE id = ?
==> Parameters: 17(Integer)
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:21, null, null
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d250223]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53cb3286] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1334935287 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM users WHERE username = ?
==> Parameters: test(String)
<==    Columns: id, username, password, role, status, created_at, updated_at
<==        Row: 1, test, $2a$10$TFno6cwBvQdsPJCRvgjBdeXkA5SLKQMBM6eBWAMZT3pgwpQr/c1y2, ADMIN, 1, 2025-09-29 13:59:27, 2025-09-30 14:32:30
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53cb3286]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d302fd8] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1466847947 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d302fd8]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67708513] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@728905930 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM training_sessions WHERE athlete_id = ? ORDER BY start_time DESC
==> Parameters: 1(Long)
<==    Columns: id, athlete_id, session_name, start_time, end_time, notes
<==        Row: 23, 1, 123, 2025-09-29 18:17:17, null, <<BLOB>>
<==        Row: 22, 1, 123, 2025-09-29 17:13:55, null, <<BLOB>>
<==        Row: 21, 1, 123, 2025-09-29 16:59:34, null, <<BLOB>>
<==        Row: 20, 1, 123, 2025-09-29 16:59:12, null, <<BLOB>>
<==        Row: 18, 1, 123, 2025-09-29 16:53:22, null, <<BLOB>>
<==        Row: 17, 1, 123, 2025-09-29 16:51:46, null, <<BLOB>>
<==        Row: 16, 1, 全链路测试训练2, 2025-09-29 16:30:18, null, <<BLOB>>
<==        Row: 15, 1, 全链路测试训练, 2025-09-29 16:30:11, null, <<BLOB>>
<==        Row: 14, 1, 123, 2025-09-29 15:45:53, null, <<BLOB>>
<==        Row: 12, 1, 训练场次 1759131691443, 2025-09-29 15:41:31, null, <<BLOB>>
<==        Row: 8, 1, 123, 2025-09-29 14:16:40, null, <<BLOB>>
<==        Row: 7, 1, 123, 2025-09-29 14:10:53, null, <<BLOB>>
<==        Row: 6, 1, 123, 2025-09-29 14:10:37, null, <<BLOB>>
<==        Row: 5, 1, 123, 2025-09-29 14:08:49, null, <<BLOB>>
<==        Row: 4, 1, 123, 2025-09-29 14:06:55, null, <<BLOB>>
<==        Row: 3, 1, 测试训练场次, 2025-09-29 14:05:01, null, <<BLOB>>
<==        Row: 2, 1, 123, 2025-09-29 14:02:39, null, <<BLOB>>
<==        Row: 1, 1, 123, 2025-09-29 14:02:17, null, <<BLOB>>
<==        Row: 11, 1, 速度训练1, 2025-09-29 09:00:00, 2025-09-29 09:25:00, <<BLOB>>
<==        Row: 10, 1, 精确训练1, 2025-09-28 14:00:00, 2025-09-28 14:40:00, <<BLOB>>
<==        Row: 9, 1, 基础训练1, 2025-09-28 10:00:00, 2025-09-28 10:30:00, <<BLOB>>
<==      Total: 21
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67708513]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@95d53b2] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@914191231 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions ORDER BY created_at DESC
==> Parameters: 
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:21, null, null
<==        Row: 16, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:15, null, null
<==        Row: 15, 测试比赛API, 3, 10, 60, CREATED, null, 2025-09-30 16:10:03, null, null
<==        Row: 14, 打打, 3, 10, 60, COMPLETED, null, 2025-09-30 15:17:13, 2025-09-30 15:57:08, null
<==        Row: 13, 企微, 3, 10, 60, COMPLETED, null, 2025-09-30 15:12:50, 2025-09-30 15:13:02, null
<==        Row: 12, ss, 3, 10, 60, COMPLETED, null, 2025-09-30 15:08:04, 2025-09-30 15:12:31, null
<==        Row: 11, 全链路测试比赛2025, 2, 3, 60, COMPLETED, null, 2025-09-30 15:00:52, 2025-09-30 15:01:09, null
<==        Row: 10, MCP完整测试比赛, 2, 5, 60, COMPLETED, null, 2025-09-30 14:51:41, 2025-09-30 14:51:55, null
<==        Row: 9, MCP测试比赛2025, 2, 5, 60, RUNNING, null, 2025-09-30 14:47:19, 2025-09-30 14:49:46, null
<==        Row: 8, 对对对, 3, 10, 60, RUNNING, null, 2025-09-30 14:45:42, 2025-09-30 14:52:46, null
<==        Row: 7, 测试比赛修复, 3, 10, 60, RUNNING, null, 2025-09-30 14:44:56, 2025-09-30 15:57:21, null
<==        Row: 6, WebSocket实时射击测试, 2, 5, 60, RUNNING, null, 2025-09-30 12:34:56, 2025-09-30 15:12:41, null
<==        Row: 5, MCP调试测试比赛, 3, 5, 60, CREATED, null, 2025-09-30 00:07:06, null, null
<==        Row: 4, MCP测试比赛, 2, 3, 60, CREATED, null, 2025-09-29 23:39:11, null, null
<==        Row: 3, 全链路测试比赛, 3, 5, 30, CREATED, null, 2025-09-29 18:25:42, null, null
<==        Row: 2, 啊啊啊, null, null, null, CREATED, null, 2025-09-29 17:59:40, null, null
<==        Row: 1, 射击训练测试比赛, 3, 10, 30, CREATED, null, 2025-09-29 13:46:43, null, null
<==      Total: 17
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@95d53b2]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38921e37] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1529944660 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38921e37]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@286807ad] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@10737457 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 17(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 18, 17, 1, ENROLLED, 2025-09-30 16:13:33, 2025-09-30 16:13:33, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@286807ad]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aa3433] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1847004708 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 16(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aa3433]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fb97b97] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1759890431 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 15(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fb97b97]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541838ad] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@537494650 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 14(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 16, 14, 1, ENROLLED, 2025-09-30 15:17:17, 2025-09-30 15:17:17, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541838ad]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7445e146] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1636655667 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 13(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 15, 13, 1, ENROLLED, 2025-09-30 15:12:54, 2025-09-30 15:12:54, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7445e146]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433d1893] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@405376611 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 12(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 14, 12, 1, ENROLLED, 2025-09-30 15:08:10, 2025-09-30 15:08:10, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433d1893]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf23243] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@956101416 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 11(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 10, 11, 1, ENROLLED, 2025-09-30 15:01:00, 2025-09-30 15:01:00, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf23243]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100bd162] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1838586122 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 10(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100bd162]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bbe52b0] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@896539748 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 9(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bbe52b0]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9a77ee] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@892897567 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 8(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 6, 8, 1, ENROLLED, 2025-09-30 14:45:46, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9a77ee]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50d1ea2f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1058788060 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 7(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 7, 7, 1, ENROLLED, 2025-09-30 14:54:08, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50d1ea2f]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f727442] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1621979409 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 6(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 5, 6, 1, ENROLLED, 2025-09-30 13:14:32, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f727442]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e136df] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@891130309 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 5(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 17, 5, 1, ENROLLED, 2025-09-30 15:57:15, 2025-09-30 15:57:15, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e136df]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31ea8830] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@556603164 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 4(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31ea8830]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c2c72fc] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@971168321 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 3(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 4, 3, 1, ENROLLED, 2025-09-29 23:40:27, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c2c72fc]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31d20dc5] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@240525969 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 2(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 2, 2, 1, ENROLLED, 2025-09-29 17:59:43, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31d20dc5]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@240e8878] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@85136665 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 1(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 1, 1, 1, ENROLLED, 2025-09-29 17:14:09, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@240e8878]
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a439dc8]
JDBC Connection [HikariProxyConnection@196281088 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will be managed by Spring
==>  Preparing: SELECT * FROM competitions WHERE id = ?
==> Parameters: 17(Integer)
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:21, null, null
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a439dc8]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a439dc8] from current transaction
==>  Preparing: UPDATE competitions SET name = ?, rounds_count = ?, shots_per_round = ?, time_limit_per_shot = ?, status = ?, started_at = ?, ended_at = ? WHERE id = ?
==> Parameters: 前端创建测试(String), 3(Integer), 10(Integer), 60(Integer), RUNNING(String), 2025-09-30T16:13:41.235(LocalDateTime), null, 17(Integer)
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a439dc8]
比赛已开始: 17 状态: RUNNING，WebSocket广播成功
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a439dc8]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a439dc8]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a439dc8]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6552478f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1131959812 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions ORDER BY created_at DESC
==> Parameters: 
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, RUNNING, null, 2025-09-30 16:11:21, 2025-09-30 16:13:41, null
<==        Row: 16, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:15, null, null
<==        Row: 15, 测试比赛API, 3, 10, 60, CREATED, null, 2025-09-30 16:10:03, null, null
<==        Row: 14, 打打, 3, 10, 60, COMPLETED, null, 2025-09-30 15:17:13, 2025-09-30 15:57:08, null
<==        Row: 13, 企微, 3, 10, 60, COMPLETED, null, 2025-09-30 15:12:50, 2025-09-30 15:13:02, null
<==        Row: 12, ss, 3, 10, 60, COMPLETED, null, 2025-09-30 15:08:04, 2025-09-30 15:12:31, null
<==        Row: 11, 全链路测试比赛2025, 2, 3, 60, COMPLETED, null, 2025-09-30 15:00:52, 2025-09-30 15:01:09, null
<==        Row: 10, MCP完整测试比赛, 2, 5, 60, COMPLETED, null, 2025-09-30 14:51:41, 2025-09-30 14:51:55, null
<==        Row: 9, MCP测试比赛2025, 2, 5, 60, RUNNING, null, 2025-09-30 14:47:19, 2025-09-30 14:49:46, null
<==        Row: 8, 对对对, 3, 10, 60, RUNNING, null, 2025-09-30 14:45:42, 2025-09-30 14:52:46, null
<==        Row: 7, 测试比赛修复, 3, 10, 60, RUNNING, null, 2025-09-30 14:44:56, 2025-09-30 15:57:21, null
<==        Row: 6, WebSocket实时射击测试, 2, 5, 60, RUNNING, null, 2025-09-30 12:34:56, 2025-09-30 15:12:41, null
<==        Row: 5, MCP调试测试比赛, 3, 5, 60, CREATED, null, 2025-09-30 00:07:06, null, null
<==        Row: 4, MCP测试比赛, 2, 3, 60, CREATED, null, 2025-09-29 23:39:11, null, null
<==        Row: 3, 全链路测试比赛, 3, 5, 30, CREATED, null, 2025-09-29 18:25:42, null, null
<==        Row: 2, 啊啊啊, null, null, null, CREATED, null, 2025-09-29 17:59:40, null, null
<==        Row: 1, 射击训练测试比赛, 3, 10, 30, CREATED, null, 2025-09-29 13:46:43, null, null
<==      Total: 17
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6552478f]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651dc32f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@310681148 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651dc32f]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68edf17e] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1667388407 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 17(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 18, 17, 1, ENROLLED, 2025-09-30 16:13:33, 2025-09-30 16:13:33, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68edf17e]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f86d1b1] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@677880638 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 16(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f86d1b1]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6332056] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@530670200 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 15(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6332056]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea4e756] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@294274884 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 14(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 16, 14, 1, ENROLLED, 2025-09-30 15:17:17, 2025-09-30 15:17:17, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea4e756]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd9bcaf] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1953398293 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 13(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 15, 13, 1, ENROLLED, 2025-09-30 15:12:54, 2025-09-30 15:12:54, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd9bcaf]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@507b0dca] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1087897518 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 12(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 14, 12, 1, ENROLLED, 2025-09-30 15:08:10, 2025-09-30 15:08:10, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@507b0dca]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d34685a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@363406187 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 11(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 10, 11, 1, ENROLLED, 2025-09-30 15:01:00, 2025-09-30 15:01:00, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d34685a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587babc0] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1723035181 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 10(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587babc0]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34888b23] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@824706009 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 9(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34888b23]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b42294d] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1810065557 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 8(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 6, 8, 1, ENROLLED, 2025-09-30 14:45:46, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b42294d]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@684ffb01] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1649258244 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 7(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 7, 7, 1, ENROLLED, 2025-09-30 14:54:08, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@684ffb01]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc765f0] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1002898586 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 6(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 5, 6, 1, ENROLLED, 2025-09-30 13:14:32, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc765f0]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@700381ea] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1744601855 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 5(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 17, 5, 1, ENROLLED, 2025-09-30 15:57:15, 2025-09-30 15:57:15, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@700381ea]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d737255] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1360242880 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 4(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d737255]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@532cb6af] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1969985349 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 3(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 4, 3, 1, ENROLLED, 2025-09-29 23:40:27, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@532cb6af]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@321998d2] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@70703600 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 2(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 2, 2, 1, ENROLLED, 2025-09-29 17:59:43, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@321998d2]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73200d1] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@2039732205 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 1(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 1, 1, 1, ENROLLED, 2025-09-29 17:14:09, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73200d1]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32254add] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1344032355 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions WHERE id = ?
==> Parameters: 17(Integer)
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, RUNNING, null, 2025-09-30 16:11:21, 2025-09-30 16:13:41, null
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32254add]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@289b2f56] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@245200516 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? ORDER BY ca.created_at ASC
==> Parameters: 17(Integer)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 18, 17, 1, ENROLLED, 2025-09-30 16:13:33, 2025-09-30 16:13:33, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@289b2f56]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570f3020] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@639587336 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM shooting_records WHERE competition_id = ? ORDER BY athlete_id, round_number, shot_number
==> Parameters: 17(Integer)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570f3020]
2025-09-30 16:13:44.022  INFO 38051 --- [boundChannel-25] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=5
2025-09-30 16:13:44.029 ERROR 38051 --- [boundChannel-25] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:13:45.669  INFO 38051 --- [boundChannel-11] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=10
2025-09-30 16:13:45.670 ERROR 38051 --- [boundChannel-11] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:13:47.235  INFO 38051 --- [boundChannel-14] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=8
2025-09-30 16:13:47.237 ERROR 38051 --- [boundChannel-14] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:13:48.748  INFO 38051 --- [boundChannel-18] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=6
2025-09-30 16:13:48.751 ERROR 38051 --- [boundChannel-18] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:13:51.317  INFO 38051 --- [boundChannel-20] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=8
2025-09-30 16:13:51.318 ERROR 38051 --- [boundChannel-20] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@401baa6f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1237797362 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM users WHERE username = ?
==> Parameters: admin(String)
<==    Columns: id, username, password, role, status, created_at, updated_at
<==        Row: 4, admin, $2a$10$TFno6cwBvQdsPJCRvgjBdeXkA5SLKQMBM6eBWAMZT3pgwpQr/c1y2, ADMIN, 1, 2025-09-29 16:00:19, 2025-09-29 16:00:19
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@401baa6f]
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d23c8e]
JDBC Connection [HikariProxyConnection@1877268425 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will be managed by Spring
==>  Preparing: SELECT * FROM users WHERE username = ?
==> Parameters: admin(String)
<==    Columns: id, username, password, role, status, created_at, updated_at
<==        Row: 4, admin, $2a$10$TFno6cwBvQdsPJCRvgjBdeXkA5SLKQMBM6eBWAMZT3pgwpQr/c1y2, ADMIN, 1, 2025-09-29 16:00:19, 2025-09-29 16:00:19
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d23c8e]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d23c8e]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d23c8e]
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c8ab60]
JDBC Connection [HikariProxyConnection@1351330728 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will be managed by Spring
==>  Preparing: SELECT * FROM users WHERE username = ?
==> Parameters: admind(String)
<==      Total: 0
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c8ab60]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c8ab60] from current transaction
==>  Preparing: INSERT INTO users (username, password, role, status, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
==> Parameters: admind(String), $2a$10$WUmIuQsZmnsNGhenI303U.r1dbbxiTJDUiHUSIb9O0WUruRAhjvdu(String), ATHLETE(String), 1(Integer), 2025-09-30T16:14:39.343(LocalDateTime), 2025-09-30T16:14:39.343(LocalDateTime)
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c8ab60]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c8ab60]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c8ab60]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c8ab60]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae9e9c] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@959730363 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM users WHERE username = ?
==> Parameters: admind(String)
<==    Columns: id, username, password, role, status, created_at, updated_at
<==        Row: 13, admind, $2a$10$WUmIuQsZmnsNGhenI303U.r1dbbxiTJDUiHUSIb9O0WUruRAhjvdu, ATHLETE, 1, 2025-09-30 16:14:39, 2025-09-30 16:14:39
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae9e9c]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@376f4588] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@571061739 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM users WHERE username = ?
==> Parameters: test(String)
<==    Columns: id, username, password, role, status, created_at, updated_at
<==        Row: 1, test, $2a$10$TFno6cwBvQdsPJCRvgjBdeXkA5SLKQMBM6eBWAMZT3pgwpQr/c1y2, ADMIN, 1, 2025-09-29 13:59:27, 2025-09-30 14:32:30
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@376f4588]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f082e3] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@382875788 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f082e3]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642f899c] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@849279072 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM training_sessions WHERE athlete_id = ? ORDER BY start_time DESC
==> Parameters: 1(Long)
<==    Columns: id, athlete_id, session_name, start_time, end_time, notes
<==        Row: 23, 1, 123, 2025-09-29 18:17:17, null, <<BLOB>>
<==        Row: 22, 1, 123, 2025-09-29 17:13:55, null, <<BLOB>>
<==        Row: 21, 1, 123, 2025-09-29 16:59:34, null, <<BLOB>>
<==        Row: 20, 1, 123, 2025-09-29 16:59:12, null, <<BLOB>>
<==        Row: 18, 1, 123, 2025-09-29 16:53:22, null, <<BLOB>>
<==        Row: 17, 1, 123, 2025-09-29 16:51:46, null, <<BLOB>>
<==        Row: 16, 1, 全链路测试训练2, 2025-09-29 16:30:18, null, <<BLOB>>
<==        Row: 15, 1, 全链路测试训练, 2025-09-29 16:30:11, null, <<BLOB>>
<==        Row: 14, 1, 123, 2025-09-29 15:45:53, null, <<BLOB>>
<==        Row: 12, 1, 训练场次 1759131691443, 2025-09-29 15:41:31, null, <<BLOB>>
<==        Row: 8, 1, 123, 2025-09-29 14:16:40, null, <<BLOB>>
<==        Row: 7, 1, 123, 2025-09-29 14:10:53, null, <<BLOB>>
<==        Row: 6, 1, 123, 2025-09-29 14:10:37, null, <<BLOB>>
<==        Row: 5, 1, 123, 2025-09-29 14:08:49, null, <<BLOB>>
<==        Row: 4, 1, 123, 2025-09-29 14:06:55, null, <<BLOB>>
<==        Row: 3, 1, 测试训练场次, 2025-09-29 14:05:01, null, <<BLOB>>
<==        Row: 2, 1, 123, 2025-09-29 14:02:39, null, <<BLOB>>
<==        Row: 1, 1, 123, 2025-09-29 14:02:17, null, <<BLOB>>
<==        Row: 11, 1, 速度训练1, 2025-09-29 09:00:00, 2025-09-29 09:25:00, <<BLOB>>
<==        Row: 10, 1, 精确训练1, 2025-09-28 14:00:00, 2025-09-28 14:40:00, <<BLOB>>
<==        Row: 9, 1, 基础训练1, 2025-09-28 10:00:00, 2025-09-28 10:30:00, <<BLOB>>
<==      Total: 21
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642f899c]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47b1b151] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@2101306629 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions ORDER BY created_at DESC
==> Parameters: 
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, RUNNING, null, 2025-09-30 16:11:21, 2025-09-30 16:13:41, null
<==        Row: 16, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:15, null, null
<==        Row: 15, 测试比赛API, 3, 10, 60, CREATED, null, 2025-09-30 16:10:03, null, null
<==        Row: 14, 打打, 3, 10, 60, COMPLETED, null, 2025-09-30 15:17:13, 2025-09-30 15:57:08, null
<==        Row: 13, 企微, 3, 10, 60, COMPLETED, null, 2025-09-30 15:12:50, 2025-09-30 15:13:02, null
<==        Row: 12, ss, 3, 10, 60, COMPLETED, null, 2025-09-30 15:08:04, 2025-09-30 15:12:31, null
<==        Row: 11, 全链路测试比赛2025, 2, 3, 60, COMPLETED, null, 2025-09-30 15:00:52, 2025-09-30 15:01:09, null
<==        Row: 10, MCP完整测试比赛, 2, 5, 60, COMPLETED, null, 2025-09-30 14:51:41, 2025-09-30 14:51:55, null
<==        Row: 9, MCP测试比赛2025, 2, 5, 60, RUNNING, null, 2025-09-30 14:47:19, 2025-09-30 14:49:46, null
<==        Row: 8, 对对对, 3, 10, 60, RUNNING, null, 2025-09-30 14:45:42, 2025-09-30 14:52:46, null
<==        Row: 7, 测试比赛修复, 3, 10, 60, RUNNING, null, 2025-09-30 14:44:56, 2025-09-30 15:57:21, null
<==        Row: 6, WebSocket实时射击测试, 2, 5, 60, RUNNING, null, 2025-09-30 12:34:56, 2025-09-30 15:12:41, null
<==        Row: 5, MCP调试测试比赛, 3, 5, 60, CREATED, null, 2025-09-30 00:07:06, null, null
<==        Row: 4, MCP测试比赛, 2, 3, 60, CREATED, null, 2025-09-29 23:39:11, null, null
<==        Row: 3, 全链路测试比赛, 3, 5, 30, CREATED, null, 2025-09-29 18:25:42, null, null
<==        Row: 2, 啊啊啊, null, null, null, CREATED, null, 2025-09-29 17:59:40, null, null
<==        Row: 1, 射击训练测试比赛, 3, 10, 30, CREATED, null, 2025-09-29 13:46:43, null, null
<==      Total: 17
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47b1b151]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee454cd] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@873810297 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee454cd]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6105989a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1033632331 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 17(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 18, 17, 1, ENROLLED, 2025-09-30 16:13:33, 2025-09-30 16:13:33, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6105989a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31e09255] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@2095848891 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 16(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31e09255]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64768325] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1362216900 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 15(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64768325]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c848877] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1010520425 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 14(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 16, 14, 1, ENROLLED, 2025-09-30 15:17:17, 2025-09-30 15:17:17, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c848877]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ea6abc5] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@111760726 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 13(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 15, 13, 1, ENROLLED, 2025-09-30 15:12:54, 2025-09-30 15:12:54, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ea6abc5]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e5c2bf7] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@635390842 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 12(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 14, 12, 1, ENROLLED, 2025-09-30 15:08:10, 2025-09-30 15:08:10, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e5c2bf7]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761758d7] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1227609713 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 11(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 10, 11, 1, ENROLLED, 2025-09-30 15:01:00, 2025-09-30 15:01:00, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761758d7]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac73030] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@911871583 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 10(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac73030]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3130d75c] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1916090362 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 9(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3130d75c]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd4c327] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@745110838 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 8(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 6, 8, 1, ENROLLED, 2025-09-30 14:45:46, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd4c327]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c30071b] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@20981313 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 7(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 7, 7, 1, ENROLLED, 2025-09-30 14:54:08, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c30071b]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@510557c5] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1831967265 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 6(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 5, 6, 1, ENROLLED, 2025-09-30 13:14:32, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@510557c5]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e5c629] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1269109903 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 5(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 17, 5, 1, ENROLLED, 2025-09-30 15:57:15, 2025-09-30 15:57:15, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e5c629]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@594b6d7f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1191259377 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 4(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@594b6d7f]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d343c19] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@798395477 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 3(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 4, 3, 1, ENROLLED, 2025-09-29 23:40:27, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d343c19]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5facb2ee] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1408535030 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 2(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 2, 2, 1, ENROLLED, 2025-09-29 17:59:43, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5facb2ee]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b69f0c3] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1642594946 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 1(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 1, 1, 1, ENROLLED, 2025-09-29 17:14:09, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b69f0c3]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@696af600] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1169156354 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions WHERE id = ?
==> Parameters: 17(Integer)
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, RUNNING, null, 2025-09-30 16:11:21, 2025-09-30 16:13:41, null
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@696af600]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13f2c456] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@72444529 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? ORDER BY ca.created_at ASC
==> Parameters: 17(Integer)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 18, 17, 1, ENROLLED, 2025-09-30 16:13:33, 2025-09-30 16:13:33, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13f2c456]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b893664] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1851559735 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM shooting_records WHERE competition_id = ? ORDER BY athlete_id, round_number, shot_number
==> Parameters: 17(Integer)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b893664]
2025-09-30 16:14:56.741  INFO 38051 --- [boundChannel-32] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=6
2025-09-30 16:14:56.744 ERROR 38051 --- [boundChannel-32] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:14:58.958  INFO 38051 --- [boundChannel-35] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=7
2025-09-30 16:14:58.961 ERROR 38051 --- [boundChannel-35] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:15:00.054  INFO 38051 --- [boundChannel-38] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=4
2025-09-30 16:15:00.056 ERROR 38051 --- [boundChannel-38] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:15:00.701  INFO 38051 --- [boundChannel-41] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=5
2025-09-30 16:15:00.701 ERROR 38051 --- [boundChannel-41] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:15:01.886  INFO 38051 --- [boundChannel-28] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=6
2025-09-30 16:15:01.888 ERROR 38051 --- [boundChannel-28] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:15:03.137  INFO 38051 --- [boundChannel-31] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=10
2025-09-30 16:15:03.138 ERROR 38051 --- [boundChannel-31] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b2984d] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1999289993 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions WHERE id = ?
==> Parameters: 14(Integer)
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 14, 打打, 3, 10, 60, COMPLETED, null, 2025-09-30 15:17:13, 2025-09-30 15:57:08, null
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b2984d]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c07f4cc] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@693827540 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? ORDER BY ca.created_at ASC
==> Parameters: 14(Integer)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 16, 14, 1, ENROLLED, 2025-09-30 15:17:17, 2025-09-30 15:17:17, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c07f4cc]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae4732] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@705787333 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM shooting_records WHERE competition_id = ? ORDER BY athlete_id, round_number, shot_number
==> Parameters: 14(Integer)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae4732]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f9b25d5] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@331238753 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions WHERE id = ?
==> Parameters: 14(Integer)
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 14, 打打, 3, 10, 60, COMPLETED, null, 2025-09-30 15:17:13, 2025-09-30 15:57:08, null
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f9b25d5]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549325f2] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1044538597 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM users WHERE username = ?
==> Parameters: test(String)
<==    Columns: id, username, password, role, status, created_at, updated_at
<==        Row: 1, test, $2a$10$TFno6cwBvQdsPJCRvgjBdeXkA5SLKQMBM6eBWAMZT3pgwpQr/c1y2, ADMIN, 1, 2025-09-29 13:59:27, 2025-09-30 14:32:30
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549325f2]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c4f1fa] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@881214710 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c4f1fa]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca7bf4b] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@258987012 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM training_sessions WHERE athlete_id = ? ORDER BY start_time DESC
==> Parameters: 1(Long)
<==    Columns: id, athlete_id, session_name, start_time, end_time, notes
<==        Row: 23, 1, 123, 2025-09-29 18:17:17, null, <<BLOB>>
<==        Row: 22, 1, 123, 2025-09-29 17:13:55, null, <<BLOB>>
<==        Row: 21, 1, 123, 2025-09-29 16:59:34, null, <<BLOB>>
<==        Row: 20, 1, 123, 2025-09-29 16:59:12, null, <<BLOB>>
<==        Row: 18, 1, 123, 2025-09-29 16:53:22, null, <<BLOB>>
<==        Row: 17, 1, 123, 2025-09-29 16:51:46, null, <<BLOB>>
<==        Row: 16, 1, 全链路测试训练2, 2025-09-29 16:30:18, null, <<BLOB>>
<==        Row: 15, 1, 全链路测试训练, 2025-09-29 16:30:11, null, <<BLOB>>
<==        Row: 14, 1, 123, 2025-09-29 15:45:53, null, <<BLOB>>
<==        Row: 12, 1, 训练场次 1759131691443, 2025-09-29 15:41:31, null, <<BLOB>>
<==        Row: 8, 1, 123, 2025-09-29 14:16:40, null, <<BLOB>>
<==        Row: 7, 1, 123, 2025-09-29 14:10:53, null, <<BLOB>>
<==        Row: 6, 1, 123, 2025-09-29 14:10:37, null, <<BLOB>>
<==        Row: 5, 1, 123, 2025-09-29 14:08:49, null, <<BLOB>>
<==        Row: 4, 1, 123, 2025-09-29 14:06:55, null, <<BLOB>>
<==        Row: 3, 1, 测试训练场次, 2025-09-29 14:05:01, null, <<BLOB>>
<==        Row: 2, 1, 123, 2025-09-29 14:02:39, null, <<BLOB>>
<==        Row: 1, 1, 123, 2025-09-29 14:02:17, null, <<BLOB>>
<==        Row: 11, 1, 速度训练1, 2025-09-29 09:00:00, 2025-09-29 09:25:00, <<BLOB>>
<==        Row: 10, 1, 精确训练1, 2025-09-28 14:00:00, 2025-09-28 14:40:00, <<BLOB>>
<==        Row: 9, 1, 基础训练1, 2025-09-28 10:00:00, 2025-09-28 10:30:00, <<BLOB>>
<==      Total: 21
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca7bf4b]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ff3f705] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1632619223 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions ORDER BY created_at DESC
==> Parameters: 
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, RUNNING, null, 2025-09-30 16:11:21, 2025-09-30 16:13:41, null
<==        Row: 16, 前端创建测试, 3, 10, 60, CREATED, null, 2025-09-30 16:11:15, null, null
<==        Row: 15, 测试比赛API, 3, 10, 60, CREATED, null, 2025-09-30 16:10:03, null, null
<==        Row: 14, 打打, 3, 10, 60, COMPLETED, null, 2025-09-30 15:17:13, 2025-09-30 15:57:08, null
<==        Row: 13, 企微, 3, 10, 60, COMPLETED, null, 2025-09-30 15:12:50, 2025-09-30 15:13:02, null
<==        Row: 12, ss, 3, 10, 60, COMPLETED, null, 2025-09-30 15:08:04, 2025-09-30 15:12:31, null
<==        Row: 11, 全链路测试比赛2025, 2, 3, 60, COMPLETED, null, 2025-09-30 15:00:52, 2025-09-30 15:01:09, null
<==        Row: 10, MCP完整测试比赛, 2, 5, 60, COMPLETED, null, 2025-09-30 14:51:41, 2025-09-30 14:51:55, null
<==        Row: 9, MCP测试比赛2025, 2, 5, 60, RUNNING, null, 2025-09-30 14:47:19, 2025-09-30 14:49:46, null
<==        Row: 8, 对对对, 3, 10, 60, RUNNING, null, 2025-09-30 14:45:42, 2025-09-30 14:52:46, null
<==        Row: 7, 测试比赛修复, 3, 10, 60, RUNNING, null, 2025-09-30 14:44:56, 2025-09-30 15:57:21, null
<==        Row: 6, WebSocket实时射击测试, 2, 5, 60, RUNNING, null, 2025-09-30 12:34:56, 2025-09-30 15:12:41, null
<==        Row: 5, MCP调试测试比赛, 3, 5, 60, CREATED, null, 2025-09-30 00:07:06, null, null
<==        Row: 4, MCP测试比赛, 2, 3, 60, CREATED, null, 2025-09-29 23:39:11, null, null
<==        Row: 3, 全链路测试比赛, 3, 5, 30, CREATED, null, 2025-09-29 18:25:42, null, null
<==        Row: 2, 啊啊啊, null, null, null, CREATED, null, 2025-09-29 17:59:40, null, null
<==        Row: 1, 射击训练测试比赛, 3, 10, 30, CREATED, null, 2025-09-29 13:46:43, null, null
<==      Total: 17
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ff3f705]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44077db9] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@884793827 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM athletes WHERE user_id = ?
==> Parameters: 1(Long)
<==    Columns: id, user_id, name, gender, birth_date, level, created_at, updated_at
<==        Row: 1, 1, 立体几何, MALE, 2025-09-23, 中级, 2025-09-29 14:01:05, 2025-09-30 14:27:54
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44077db9]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403d0838] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1067999027 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 17(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 18, 17, 1, ENROLLED, 2025-09-30 16:13:33, 2025-09-30 16:13:33, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403d0838]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@136b5790] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1002430733 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 16(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@136b5790]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a615472] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@603933049 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 15(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a615472]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac6f8fd] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1524951315 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 14(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 16, 14, 1, ENROLLED, 2025-09-30 15:17:17, 2025-09-30 15:17:17, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac6f8fd]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79db427] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@168932665 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 13(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 15, 13, 1, ENROLLED, 2025-09-30 15:12:54, 2025-09-30 15:12:54, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79db427]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a39bc39] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1349454805 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 12(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 14, 12, 1, ENROLLED, 2025-09-30 15:08:10, 2025-09-30 15:08:10, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a39bc39]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23acf7ce] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1417891830 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 11(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 10, 11, 1, ENROLLED, 2025-09-30 15:01:00, 2025-09-30 15:01:00, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23acf7ce]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dbf883b] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1768495301 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 10(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dbf883b]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d53675d] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1551681692 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 9(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d53675d]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1a1a7] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@337528617 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 8(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 6, 8, 1, ENROLLED, 2025-09-30 14:45:46, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1a1a7]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e63947] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1308968005 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 7(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 7, 7, 1, ENROLLED, 2025-09-30 14:54:08, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e63947]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@643ce100] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@341885121 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 6(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 5, 6, 1, ENROLLED, 2025-09-30 13:14:32, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@643ce100]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b4193be] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@2029406519 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 5(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 17, 5, 1, ENROLLED, 2025-09-30 15:57:15, 2025-09-30 15:57:15, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b4193be]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68624bd] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1898810288 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 4(Integer), 1(Long)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68624bd]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466677f0] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1903300685 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 3(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 4, 3, 1, ENROLLED, 2025-09-29 23:40:27, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466677f0]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e0395b] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1682707808 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 2(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 2, 2, 1, ENROLLED, 2025-09-29 17:59:43, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e0395b]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@127b150a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@37866751 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? AND ca.athlete_id = ?
==> Parameters: 1(Integer), 1(Long)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 1, 1, 1, ENROLLED, 2025-09-29 17:14:09, null, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@127b150a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b281c6] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@273258107 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM competitions WHERE id = ?
==> Parameters: 17(Integer)
<==    Columns: id, name, rounds_count, shots_per_round, time_limit_per_shot, status, created_by, created_at, started_at, ended_at
<==        Row: 17, 前端创建测试, 3, 10, 60, RUNNING, null, 2025-09-30 16:11:21, 2025-09-30 16:13:41, null
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b281c6]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55c62c94] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@98247452 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT ca.*, a.name as athlete_name FROM competition_athletes ca LEFT JOIN athletes a ON ca.athlete_id = a.id WHERE ca.competition_id = ? ORDER BY ca.created_at ASC
==> Parameters: 17(Integer)
<==    Columns: id, competition_id, athlete_id, status, created_at, updated_at, athlete_name
<==        Row: 18, 17, 1, ENROLLED, 2025-09-30 16:13:33, 2025-09-30 16:13:33, 立体几何
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55c62c94]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b22901] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@829689263 wrapping com.mysql.cj.jdbc.ConnectionImpl@31b28583] will not be managed by Spring
==>  Preparing: SELECT * FROM shooting_records WHERE competition_id = ? ORDER BY athlete_id, round_number, shot_number
==> Parameters: 17(Integer)
<==      Total: 0
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b22901]
2025-09-30 16:16:21.367  INFO 38051 --- [boundChannel-54] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=6
2025-09-30 16:16:21.372 ERROR 38051 --- [boundChannel-54] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:16:22.681  INFO 38051 --- [boundChannel-57] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=3
2025-09-30 16:16:22.683 ERROR 38051 --- [boundChannel-57] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:16:23.831  INFO 38051 --- [boundChannel-43] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=9
2025-09-30 16:16:23.832 ERROR 38051 --- [boundChannel-43] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

2025-09-30 16:16:25.380  INFO 38051 --- [boundChannel-46] c.aimlab.controller.WebSocketController  : 收到比赛射击记录: 比赛ID=17, 得分=7
2025-09-30 16:16:25.382 ERROR 38051 --- [boundChannel-46] c.aimlab.controller.WebSocketController  : 获取用户信息失败: 非Web上下文无法获取Request

cn.dev33.satoken.exception.NotWebContextException: 非Web上下文无法获取Request
	at cn.dev33.satoken.spring.SpringMVCUtil.getRequest(SpringMVCUtil.java:29) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.spring.SaTokenContextForSpring.getStorage(SaTokenContextForSpring.java:40) ~[sa-token-spring-boot-starter-1.34.0.jar:na]
	at cn.dev33.satoken.context.SaHolder.getStorage(SaHolder.java:49) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.isSwitch(StpLogic.java:1967) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginId(StpLogic.java:667) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpLogic.getLoginIdAsLong(StpLogic.java:776) ~[sa-token-core-1.34.0.jar:na]
	at cn.dev33.satoken.stp.StpUtil.getLoginIdAsLong(StpUtil.java:339) ~[sa-token-core-1.34.0.jar:na]
	at com.aimlab.controller.WebSocketController.handleCompetitionShot(WebSocketController.java:50) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_452]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_452]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_452]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_452]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458) [spring-messaging-5.3.29.jar:5.3.29]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144) [spring-messaging-5.3.29.jar:5.3.29]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_452]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_452]
	at java.lang.Thread.run(Thread.java:750) [na:1.8.0_452]

